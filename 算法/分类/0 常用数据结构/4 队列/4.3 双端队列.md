### 双端队列

#### [2810. 故障键盘](https://leetcode.cn/problems/faulty-keyboard/description/)
 
你的笔记本键盘存在故障，每当你在上面输入字符 'i' 时，它会反转你所写的字符串。而输入其他字符则可以正常工作。

给你一个下标从 0 开始的字符串 s ，请你用故障键盘依次输入每个字符。

返回最终笔记本屏幕上输出的字符串。

**题解：**

用一个双端队列来模拟键盘输入的过程，head = true表示从头部插入，否则从队尾插入。
- 遍历字符串s，当遇到字符'i'时，将head取反，否则根据head的值判断是从头部插入还是从队尾插入。
- 最后将双端队列中的字符按照head的值转换为字符串返回即可。

```js
/**
 * @param {string} s
 * @return {string}
 */
var finalString = function(s) {
    // 双端队列数组，用于模拟字符的前后插入操作
    let q = [];
    // 插入方向标志：true表示从队头插入，false表示从队尾插入（初始为队尾插入）
    let head = false;
    
    // 遍历输入字符串的每个字符
    for (let chr of s) {
        // 遇到'i'时切换插入方向，不插入字符
        if (chr == 'i') {
            head = !head;  // 翻转插入方向标志
            continue;      // 跳过当前字符的插入操作
        }
        
        // 根据当前插入方向，将字符插入队头或队尾
        if (head) {
            q.unshift(chr);  // 队头插入（数组头部）
        } else {
            q.push(chr);     // 队尾插入（数组尾部）
        }
    }
    
    // 若最终方向为队头插入模式，需先反转数组再拼接（因为实际存储顺序与输出顺序相反）
    // 若为队尾插入模式，直接拼接数组元素即可
    return head ? q.reverse().join("") : q.join("");
};

```