### 一维差分

#### [2848. 与车相交的点](https://leetcode.cn/problems/points-that-intersect-with-cars/description/)

给你一个下标从 0 开始的二维整数数组 nums 表示汽车停放在数轴上的坐标。对于任意下标 i，nums[i] = [starti, endi] ，其中 starti 是第 i 辆车的起点，endi 是第 i 辆车的终点。

返回数轴上被车 任意部分 覆盖的整数点的数目。

##### 差分数组
```js
/**
 * @param {number[][]} nums
 * @return {number}
 */
var numberOfPoints = function(nums) {
    const MX = Math.max(...nums.map(a => a[1]));
    const arr = Array(MX + 2).fill(0);
    for (let [s, e] of nums) {
        arr[s] += 1;
        arr[e+1] -= 1;
    }
    let ans = 0, sum =  0;
    for (let d of arr) {
        sum += d;
        if (sum > 0) ans++;
    }
    return ans;
};
```

##### 区间合并

```js
/**
 * @param {number[][]} nums
 * @return {number}
 */
var numberOfPoints = function(nums) {
    nums.sort((a, b) => a[0] - b[0] || a[1] - b[1]);
    let [s, e] = nums[0];
    let ans = 0;
    for (let i = 1; i < nums.length; i++) {
        let [cs, ce] = nums[i];
        if (cs > e) {
            ans += e - s + 1;
            s = cs;
        }
        e = Math.max(e, ce);
    }
    ans += e - s + 1;
    return ans;
};
```

#### [1893. 检查是否区域内所有整数都被覆盖](https://leetcode.cn/problems/check-if-all-the-integers-in-a-range-are-covered/description/)

给你一个二维整数数组 ranges 和两个整数 left 和 right 。每个 ranges[i] = [starti, endi] 表示一个从 starti 到 endi 的 闭区间 。

如果闭区间 [left, right] 内每个整数都被 ranges 中 至少一个 区间覆盖，那么请你返回 true ，否则返回 false 。

已知区间 ranges[i] = [starti, endi] ，如果整数 x 满足 starti <= x <= endi ，那么我们称整数x 被覆盖了。

```js
/**
 * @param {number[][]} ranges
 * @param {number} left
 * @param {number} right
 * @return {boolean}
 */
var isCovered = function(ranges, left, right) {
    const MX = Math.max(...ranges.map(a => a[1]));
    if (MX < right) return false;
    const diffs = Array(MX + 2).fill(0);
    for (let [s, e] of ranges) {
        diffs[s]++, diffs[e+1]--;
    }
    let sum = 0, cnt = 0;
    for (let i = 0; i <= right; i++) {
        sum += diffs[i];
        if (i >= left && sum > 0) {
            cnt++;
        }
    }

    return cnt == right - left + 1;
};
```