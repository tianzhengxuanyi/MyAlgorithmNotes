### 距离和

#### [1685. 有序数组中差绝对值之和](https://leetcode.cn/problems/sum-of-absolute-differences-in-a-sorted-array/description/) 

给你一个 非递减 有序整数数组 nums 。

请你建立并返回一个整数数组 result，它跟 nums 长度相同，且result[i] 等于 nums[i] 与数组中所有其他元素差的绝对值之和。

换句话说， result[i] 等于 sum(|nums[i]-nums[j]|) ，其中 0 <= j < nums.length 且 j != i （下标从 0 开始）。

```
ai - a0
ai - a1 
ai - a2
...   
ai - ai 
ai+1 - ai
ai+2 - ai
...       
an-1 - ai
sum = (i + 1 - (n - 1 - (i + 1) + 1)) * ai - prefix[i+1] + prefix[n] - prefix[i+1]
    = (2 * i + 2 - n) * ai - prefix[i+1] + prefix[n] - prefix[i+1]
```

```js
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var getSumAbsoluteDifferences = function(nums) {
    const n = nums.length;
    // 前缀和数组，prefix[i] 表示 nums 中前 i 个元素的和（nums[0] 到 nums[i-1]）
    const prefix = Array(n + 1).fill(0);
    const result = Array(n); 
    // 构建前缀和数组：prefix[i+1] = prefix[i] + nums[i]
    for (let i = 0; i < n; i++) {
        prefix[i+1] = prefix[i] + nums[i];
    }
    // 计算每个位置 i 的结果值
    for (let i = 0; i < n; i++) {
        // 公式推导：
        // 左侧元素（j <= i）的绝对值之和：nums[i] * (i + 1) - prefix[i + 1]
        // 右侧元素（j > i）的绝对值之和：(prefix[n] - prefix[i+1]) - nums[i] * (n - i - 1)
        // 合并后得到：(2i + 2 - n) * nums[i] + (prefix[n] - 2 * prefix[i+1])
        result[i] = (2 * i + 2 - n) * nums[i] + (prefix[n] - 2 * prefix[i+1]);
    }
    return result;
};

```