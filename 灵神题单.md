## 图论

### 一、基础遍历

#### 1.1 DFS 基础

1. ~~[547. 省份数量]~~
2. ~~[1971. 寻找图中是否存在路径]~~
3. ~~[797. 所有可能的路径 1383]~~
4. ~~[841. 钥匙和房间 1412]~~
5. [2316. 统计无向图中无法互相到达点对数 1604]
6. [1319. 连通网络的操作次数 1633]
7. [2492. 两个城市间路径的最小分数 1680]
8. [3310. 移除可疑的方法 1711]
9. [2685. 统计完全连通分量的数量 1769]
10. [2192. 有向无环图中一个节点的所有祖先 1788]
11. [3387. 两天自由外汇交易后的最大货币数 1788]
12. ~~[924. 尽量减少恶意软件的传播 1869 ☆]~~
13. [2101. 引爆最多的炸弹 1880]
14. [721. 账户合并]
15. [207. 课程表 三色标记法判环]
16. [802. 找到最终的安全状态 1962]
17. ~~[928. 尽量减少恶意软件的传播 II 1985 ☆]~~

### 1.2 BFS 基础

18. [3243. 新增道路查询后的最短距离 I 1568]

19. [1311. 获取你好友已观看的视频 1653]
20. [1129. 颜色交替的最短路径 1780]
21. [1298. 你能从盒子里获得的最大糖果数 1825]
22. [2039. 网络空闲的时刻 1865]
23. [2608. 图中的最短环 1904]
24. [815. 公交路线 1964]

### 二、拓扑排序

#### 2.1 拓扑排序

25. [1557. 可以到达所有点的最少点数目]
26. [210. 课程表 II]
27. [1462. 课程表 IV 1693]
28. [2115. 从给定原材料中找到所有可以做出的菜 1679]
29. [851. 喧闹和富有 1783]
30. [310. 最小高度树]
31. [2392. 给定条件下构造矩阵 1961]
32. [802. 找到最终的安全状态 1962]

#### 2.2 在拓扑序上 DP

33. [2050. 并行课程 III 2084]
34. [1857. 有向图中最大颜色值 2313]

#### 2.3 基环树

35. [2359. 找到离给定两个节点最近的节点 1715]
36. [2360. 图中的最长环 1897]
37. [684. 冗余连接 做法不止一种]

### 三、最短路

#### 3.1 单源最短路：Dijkstra 算法

Dijkstra 算法介绍

38. [743. 网络延迟时间]
39. [3341. 到达最后一个房间的最少时间 I 1721 网格图]
40. [3112. 访问消失节点的最少时间 1757 理解原理]
41. [2642. 设计可以求最短路径的图类 1811]
42. [1514. 概率最大的路径 1846]
43. [3342. 到达最后一个房间的最少时间 II 1862 网格图]
44. [1631. 最小体力消耗路径 1948 网格图 做法不止一种]

#### 3.2 全源最短路：Floyd 算法

带你发明 Floyd 算法：从记忆化搜索到递推

45. [2642. 设计可以求最短路径的图类 1811]
46. [1334. 阈值距离内邻居最少的城市 1855]
47. [1335. 转换字符串的最小成本 I 1882]

Bitset 优化 Floyd

46. [2101. 引爆最多的炸弹]

### 四、最小生成树

涉及到**Kruskal 算法**和 **Prim 算法**。前者一般用于稀疏图，后者一般用于稠密图。

47. [1584. 连接所有点的最小费用 1858 ]

### 五、欧拉路径/欧拉回路

涉及到 **Hierholzer 算法**。

### 六、强连通分量/双连通分量

涉及到 **Tarjan 算法**。

### 七、二分图染色

48. [785. 判断二分图 1625]
49. [886. 可能的二分法 1795]

### 八、网络流

由于有其他做法（比如状压 DP），难度分仅供参考。

50. [1947. 最大兼容性评分和 1704 一对一]
51. [3376. 破解锁的最少时间 I 1793 一对一]
52. [3377. 将石头分散到网格图的最少移动次数 2001 一对多]

### 九、其他

53. [1042. 不邻接植花 1712]
54. [1761. 一个图中连通三元组的最小度数 2005]

## 动态规划

### 一、入门 DP

#### §1.1 爬楼梯

讲解

55. ~~[70. 爬楼梯]~~
56. ~~[746. 使用最小花费爬楼梯]~~
57. ~~[377. 组合总和 Ⅳ 本质是爬楼梯，相当于每次往上爬 nums[i] 步]~~
58. ~~[2466. 统计构造好字符串的方案数 1694]~~
59. ~~[2467. 统计打字方案数 1857]~~

#### §1.2 打家劫舍

答疑
问：在 1:1 翻译的过程中，如何根据记忆化搜索，确定递推数组（DP 数组）的大小？为什么有时候要开 n+1 大小的数组，有时候要开 n+2 大小的数组？

答：看记忆化搜索的参数的范围（最小值和最大值）。例如 i 最小是 −1（递归边界也算），最大是 n−1（递归入口），那么一共有 n+1 个不同的 i，就需要开 n+1 大小的 DP 数组。如果 i 最小是 −2，最大是 n−1，一共有 n+2 个不同的 i，就需要开 n+2 大小的 DP 数组。

60. ~~[198. 打家劫舍]~~
61. ~~[740. 删除并获得点数]~~
62. ~~[2320. 统计放置房子的方式数 1608]~~
63. ~~[213. 打家劫舍 II]~~
64. ~~[3186. 施咒的最大总伤害 1841]~~

思维扩展：

65. [2140. 解决智力问题 1709]

#### §1.3 最大子数组和（最大子段和）

有两种做法：

定义状态 f[i] 表示以 a[i] 结尾的最大子数组和，不和 i 左边拼起来就是 f[i]=a[i]，和 i 左边拼起来就是 f[i]=f[i−1]+a[i]，取最大值就得到了状态转移方程 f[i]=max(f[i−1],0)+a[i]，答案为 max(f)。这个做法也叫做 Kadane 算法。
用前缀和解决。
具体见 我的题解。

66. ~~[53. 最大子数组和]~~
67. ~~[2606. 找到最大开销的子字符串 1422]~~
68. ~~[1749. 任意子数组和的绝对值的最大值 1542]~~
69. ~~[1191. K 次串联后最大子数组之和 1748]~~
70. ~~[918. 环形子数组的最大和 1777]~~
71. [2321. 拼接数组的最大分数 1791]

### 二、网格图 DP

#### §2.1 基础

72. [64. 最小路径和]
73. [62. 不同路径]
74. [63. 不同路径 II]
75. [120. 三角形最小路径和]
76. [3393. 统计异或值为给定值的路径数目 1573]
77. [931. 下降路径最小和 1573]
78. [2684. 矩阵中移动的最大次数 1626]
79. [2304. 网格中的最小路径代价 1658]
80. [1289. 下降路径最小和 II 1697]
81. [3418. 机器人可以获得的最大金币数 1798]

#### §2.2 进阶

82. [1594. 矩阵的最大非负积 1807]
83. [1301. 最大得分的路径数目 1853]
84. [2435. 矩阵中和能被 K 整除的路径 1952]
85. [174. 地下城游戏]
86. [329. 矩阵中的最长递增路径]
87. [2328. 网格图中递增路径的数目 2001]

### 三、背包

讲解：0-1 背包 完全背包

#### §3.1 0-1 背包

每个物品只能选一次。

88. [2915. 和为目标值的最长子序列的长度 1659]
89. [416. 分割等和子集]
90. [494. 目标和]
91. [2787. 将一个数字表示成幂的和的方案数 1818]
92. [3180. 执行操作可获得的最大总奖励 I 1849]
93. [474. 一和零 二维背包]
94. [3489. 零数组变换 IV ~2000]

#### §3.2 完全背包

物品可以重复选，无个数限制。

答疑
问：关于完全背包，有两种写法，一种是外层循环枚举物品，内层循环枚举体积；另一种是外层循环枚举体积，内层循环枚举物品。如何评价这两种写法的优劣？

答：两种写法都可以，但更推荐前者。外层循环枚举物品的写法，只会遍历物品数组一次；而内层循环枚举物品的写法，会遍历物品数组多次。从 cache 的角度分析，多次遍历数组会导致额外的 cache miss，带来额外的开销。所以虽然这两种写法的时间空间复杂度是一样的，但外层循环枚举物品的写法常数更小。

95. [322. 零钱兑换]
96. [518. 零钱兑换 II]
97. [279. 完全平方数]
98. [1449. 数位成本和为目标值的最大数字 1927]

#### §3.3 多重背包（选做）

物品可以重复选，有个数限制。

求方案数

99. [2585. 获得分数的方法数 1910]

二进制优化
[3489. 零数组变换 IV]

#### §3.4 分组背包

同一组内的物品至多/恰好选一个。

100. [1155. 掷骰子等于目标和的方法数 1654]
101. [1981. 最小化目标值与所选元素的差 2010]

### 四、经典线性 DP

#### §4.1 最长公共子序列（LCS）

讲解：最长公共子序列 编辑距离

一般定义 f[i][j] 表示对 (s[:i],t[:j]) 的求解结果。

##### §4.1.1 基础

102. [1143. 最长公共子序列]
103. [583. 两个字符串的删除操作]
104. [712. 两个字符串的最小 ASCII 删除和]
105. [72. 编辑距离]
106. [1035. 不相交的线 1806]
107. [1458. 两个子序列的最大点积 1824]

##### §4.1.2 进阶

108. [3290. 最高乘法得分 1692]
109. [115. 不同的子序列]

#### §4.2 最长递增子序列（LIS）

讲解：最长递增子序列

做法有很多：

枚举选哪个。（见讲解）
贪心+二分。（见讲解）
计算 a 和把 a 排序后的数组 sortedA 的最长公共子序列。（用 LCS 求 LIS）
数据结构优化。（见 2407 题）

##### §4.2.1 基础

110. [300. 最长递增子序列]
111. [2826. 将三个组排序 1721]
112. [1671. 得到山形数组的最少删除次数 1913]
113. [1964. 找出到每个位置为止最长的有效障碍赛跑路线 1933]
114. [2111. 使数组 K 递增的最少操作次数 1941]

##### §4.2.2 进阶

115. [1626. 无矛盾的最佳球队 2027]

### 五、划分型 DP

#### §5.1 判定能否划分

一般定义 f[i] 表示长为 i 的前缀 a[:i] 能否划分。

枚举最后一个子数组的左端点 L，从 f[L] 转移到 f[i]，并考虑 a[L:i] 是否满足要求。

116. [2369. 检查数组是否存在有效划分 1780]
117. [139. 单词拆分]

#### §5.2 最优划分

计算最少（最多）可以划分出多少段、最优划分得分等。

一般定义 f[i] 表示长为 i 的前缀 a[:i] 在题目约束下，分割出的最少（最多）子数组个数（或者定义成分割方案数）。

枚举最后一个子数组的左端点 L，从 f[L] 转移到 f[i]，并考虑 a[L:i] 对最优解的影响。

118. [132. 分割回文串 II]
119. [2707. 字符串中的额外字符 1736]
120. [3196. 最大化子数组的总成本 1847 也有状态机 DP 做法]
121. [2767. 将字符串分割为最少的美丽子字符串 1865]
122. [91. 解码方法]
123. [639. 解码方法 II]
124. [LCR 165. 解密数字]
125. [1043. 分隔数组以得到最大和 1916]
126. [1416. 恢复数组 1920]
127. [2472. 不重叠回文子字符串的最大数目 2013]
128. [1105. 填充书架 2014]

#### §5.3 约束划分个数

将数组分成（恰好/至多）k 个连续子数组，计算与这些子数组有关的最优值。

一般定义 f[i][j] 表示将长为 j 的前缀 a[:j] 分成 i 个连续子数组所得到的最优解。

枚举最后一个子数组的左端点 L，从 f[i−1][L] 转移到 f[i][j]，并考虑 a[L:j] 对最优解的影响。

注：对于恰好型划分 DP，可以通过控制内层循环的上下界，把时间复杂度从 O(nk) 优化至 O((n−k)k)。例如 3473 题。

129. [813. 最大平均值和的分组 1937]
130. [410. 分割数组的最大值]
131. [1278. 分割回文串 III 1979]
132. [1745. 分割回文串 IV]

#### §5.4 不相交区间

133. [2830. 销售利润最大化 1851]
134. [2008. 出租车的最大盈利 1872]
135. [2054. 两个最好的不重叠活动 1883]

### 六、状态机 DP

一般定义 f[i][j] 表示前缀 a[:i] 在状态 j 下的最优值。j 一般很小。

#### §6.1 买卖股票

讲解

136. [121. 买卖股票的最佳时机 交易一次]
137. [122. 买卖股票的最佳时机 II 交易次数不限]
138. [123. 买卖股票的最佳时机 III 交易两次]
139. [188. 买卖股票的最佳时机 IV 交易 k 次]
140. [309. 买卖股票的最佳时机含冷冻期]
141. [714. 买卖股票的最佳时机含手续费]

#### §6.2 基础

142. [3259. 超级饮料的最大强化能量 1484]
143. [2222. 选择建筑的方案数 1657]
144. [1567. 乘积为正数的最长子数组长度 1710]
145. [2708. 一个小组的最大实力值 做到 O(n) 时间]
146. [2826. 将三个组排序 1721]
147. [2786. 访问数组中的位置使分数最大 1733]
148. [1911. 最大交替子序列和 1786]
149. [376. 摆动序列]
150. [1186. 删除一次得到子数组最大和 1799]
151. [3466. 最大硬币收集量（会员题）]

#### §6.3 进阶

152. [1262. 可被三整除的最大和 1762]
153. [1363. 形成三的最大倍数]
154. [2771. 构造最长非递减子数组 1792]
155. [1594. 矩阵的最大非负积 1807]
156. [3196. 最大化子数组的总成本 1847 也有划分型 DP 做法]
157. [935. 骑士拨号器]
158. [1537. 最大得分 1961]

### 七、其他线性 DP

#### §7.1 一维 DP

发生在前缀/后缀之间的转移，例如从 f[i−1] 转移到 f[i]，或者从 f[j] 转移到 f[i]。

159. [2944. 购买水果需要的最少金币数 1709]
160. [2140. 解决智力问题 1709]
161. [983. 最低票价 1786 有 O(n) 做法]
162. [2901. 最长相邻不相等子序列 II 1899]
163. [3144. 分割字符频率相等的最少子字符串 1917]

#### §7.2 合法子序列 DP（特殊子序列 DP）

计算合法子序列的最长长度、个数、元素和等。

一般定义 f[x] 表示以元素 x 结尾的合法子序列的最长长度/个数/元素和，从子序列的倒数第二个数转移过来。

164. [2501. 数组中最长的方波 1480]
165. [1218. 最长定差子序列 1597]
166. [1027. 最长等差数列 1759]
167. [873. 最长的斐波那契子序列的长度 1911]
168. [3202. 找出有效子序列的最大长度 II 1974]
169. [446. 等差数列划分 II - 子序列 求个数]

思维扩展：

170. [1048. 最长字符串链 1599]

#### §7.3 矩阵快速幂优化 DP

部分题目由于数据范围小，也可以用线性 DP。

171. [70. 爬楼梯]
172. [509. 斐波那契数]
173. [1137. 第 N 个泰波那契数]
174. [1220. 统计元音字母序列的数目]
175. [552. 学生出勤记录 II]
176. [935. 骑士拨号器]
177. [790. 多米诺和托米诺平铺]

#### §7.4 子矩形 DP

178. [3148. 矩阵中的最大得分 1820]
179. [221. 最大正方形]
180. [1277. 统计全为 1 的正方形子矩阵]

#### §7.5 多维 DP

181. [2400. 恰好移动 k 步到达某一位置的方法数目 1751]
182. [1824. 最少侧跳次数 1778]
183. [3332. 旅客可以得到的最多点数 1828]
184. [2370. 最长理想子序列 1835]
185. [3176. 求出最长好子序列 I 1849]
186. [1269. 停在原地的方案数 1854]
187. [3250. 单调数组对的数目 I 1898]
188. [3218. 切蛋糕的最小总开销 I 也有贪心做法]
189. [3122. 使矩阵满足条件的最少操作次数 1905]
190. [576. 出界的路径数]
191. [403. 青蛙过河]
192. [1223. 掷骰子模拟 2008]

### 八、区间 DP

讲解：区间 DP

从数组的左右两端不断缩短，求解关于某段下标区间的最优值。

一般定义 f[i][j] 表示下标区间 [i,j] 的最优值。

#### §8.1 最长回文子序列

193. [516. 最长回文子序列]
194. [730. 统计不同回文子序列]
195. [1312. 让字符串成为回文串的最少插入次数 1787]
196. [3472. 至多 K 次操作后的最长回文子序列 1884]

#### §8.2 其他区间 DP

197. [5. 最长回文子串]
198. [647. 回文子串]
199. [3040. 相同分数的最大操作数目 II 1709]
200. [375. 猜数字大小 II]
201. [1130. 叶值的最小代价生成树 1919]
202. [96. 不同的二叉搜索树]

### 九、状态压缩 DP（状压 DP）

#### §9.1 排列型 ① 相邻无关

学习指南：

教你一步步思考状压 DP：从记忆化搜索到递推
从集合论到位运算，常见位运算技巧分类总结
暴力做法是枚举所有排列，对每个排列计算和题目有关的值，时间复杂度（通常来说）是 O(n!)。可以解决 n≤10 的问题。

状压 DP 可以把时间复杂度（通常来说）优化至 O(n⋅2
n
)。可以解决 n≤20 的问题。

一般有两种定义方式：

定义 f[S] 表示已经排列好的元素（下标）集合为 S 时，和题目有关的最优值。通过枚举当前位置要填的元素（下标）来转移。
定义 f[S] 表示可以选的元素（下标）集合为 S 时，和题目有关的最优值。通过枚举当前位置要填的元素（下标）来转移。
注：部分题目由于爆搜+剪枝也能过，难度分仅供参考。

203. [526. 优美的排列]
204. [3376. 破解锁的最少时间 I]

#### §9.2 排列型 ② 相邻相关

一般定义 f[S][i] 表示未选（或者已选）的集合为 S，且上一个填的元素（下标）为 i 时，和题目有关的最优值。通过枚举当前位置要填的元素（下标）来转移。

时间复杂度（通常来说）是 O(n
2
⋅2
n
)。

讲解：从全排列到状压 DP

205. [996. 平方数组的数目 1932]
206. [2741. 特别的排列 2021]

#### §9.3 旅行商问题（TSP）

本质上就是排列型 ②。

#### §9.4 子集状压 DP

值得注意的是，枚举子集的子集还可以用「选或不选」来做，对于存在无效状态的情况，可以做到更优的时间复杂度。具体见 1349 题解 最后的写法。

207. [2305. 公平分发饼干 1887]
208. [1986. 完成任务的最少工作时间段 1995]

#### §9.5 其他状压 DP

209. [698. 划分为 k 个相等的子集]
210. [1411. 给 N x 3 网格图涂色的方案数 1845]
211. [2002. 两个回文子序列长度的最大乘积 1869]
212. [473. 火柴拼正方形]

### 十、数位 DP

数位 DP v1.0 模板讲解

数位 DP v2.0 模板讲解 上下界数位 DP

213. [2719. 统计整数数目]
214. [1742. 盒子中小球的最大数量 非暴力做法]
215. [2843. 统计对称整数的数目 非暴力做法]
216. [788. 旋转数字 非暴力做法]
217. [902. 最大为 N 的数字组合 1990]

### 十一、数据结构优化 DP

#### §11.1 前缀和优化 DP

218. [2327. 知道秘密的人数 1894]
219. [1871. 跳跃游戏 VII 1896 也可以用滑动窗口优化]

#### §11.2 单调栈优化 DP

#### §11.3 单调队列优化 DP

一般用来维护一段转移来源的最值。

前提：区间右端点变大时，左端点也在变大（同滑动窗口）。
转移前，去掉队首无用数据。
计算转移（直接从队首转移）。
把数据（一般是 f[i]）插入队尾前，去掉队尾无用数据。

220. [2944. 购买水果需要的最少金币数 1709 可以用单调队列优化到 O(n)]
221. [1696. 跳跃游戏 VI 1954]
222. [1425. 带限制的子序列和 2032]

#### §11.4 树状数组/线段树优化 DP

223. [1626. 无矛盾的最佳球队 2027]

#### §11.5 字典树优化 DP

224. [139. 单词拆分]
225. [140. 单词拆分 II]
226. [面试题 17.13. 恢复空格]

### 十二、树形 DP

注：可能有同学觉得树形 DP 没有重复访问同一个状态（重叠子问题），并不能算作 DP，而是算作普通的递归。这么说也有一定道理，不过考虑到思维方式和 DP 是一样的自底向上，所以仍然叫做树形 DP。此外，如果是自顶向下的递归做法，是存在重叠子问题的，一般要结合记忆化搜索实现。

#### §12.1 树的直径

讲解：树形 DP：树的直径

227. [543. 二叉树的直径]
228. [687. 最长同值路径]
229. [124. 二叉树中的最大路径和]
230. [2385. 感染二叉树需要的总时间 1711]

#### §12.2 树上最大独立集

讲解：树形 DP：打家劫舍 III

231. [337. 打家劫舍 III（没有上司的舞会）]

#### §12.3 树上最小支配集

讲解：树形 DP：监控二叉树，包含 968 的变形题。

232. [968. 监控二叉树 2124]

#### §12.4 换根 DP

也叫二次扫描法。

【图解】一张图秒懂换根 DP！

233. [834. 树中距离之和 2197]

#### §12.5 其他树形 DP

234. [2925. 在树上执行操作以后得到的最大分数 1940]

### 十三、图 DP

235. [3243. 新增道路查询后的最短距离 I 1568]
236. [787. K 站中转内最便宜的航班 1786]

### 十四、博弈 DP

237. [1025. 除数博弈 1435 有数学做法]
238. [877. 石子游戏 1590 有数学做法]
239. [486. 预测赢家]
240. [1510. 石子游戏 IV 1787]
241. [1690. 石子游戏 VII 1951]

### 十五、概率/期望 DP

242. [688. 骑士在棋盘上的概率]

专题：输出具体方案（打印方案）
注意这些题目和回溯的区别，某些回溯题目要求输出所有方案，这里只要求输出一个。

讲解

243. [368. 最大整除子集]
244. [1449. 数位成本和为目标值的最大数字 1927 字典序]
245. [1092. 最短公共超序列 1977]

#### 专题：前后缀分解

部分题目也可以用状态机 DP 解决。

如果涉及到的只是若干元素，而不是前缀/后缀这样的一段元素。也可以用「枚举右，维护左」思考，详见数据结构题单。

246. [724. 寻找数组的中心下标 做到 O(n)]
247. [1991. 找到数组的中间位置 同 724 题]
248. [2270. 分割数组的方案数 1334]
249. [2256. 最小平均差 1395]
250. [1422. 分割字符串的最大得分 做到 O(n)]
251. [1493. 删掉一个元素以后全为 1 的最长子数组 1423]
252. [845. 数组中的最长山脉 1437 也可以分组循环]
253. [2012. 数组美丽值求和 1468]
254. [2909. 元素和最小的山形三元组 II 1479]
255. [2483. 商店的最少代价 1495]
256. [1525. 字符串的好分割数目 1500]
257. [3354. 使数组元素等于零 做到 O(n)]
258. [2874. 有序三元组中的最大值 II 1583]
259. [123. 买卖股票的最佳时机 III 拆分成两个 121 题]
260. [2222. 选择建筑的方案数 1657]
261. [1031. 两个非重叠子数组的最大和 1680]
262. [689. 三个无重叠子数组的最大和]
263. [2420. 找到所有好下标 1695]
264. [2100. 适合野炊的日子 1702]
265. [926. 将字符串翻转到单调递增]
266. [334. 递增的三元子序列]
267. [1653. 使字符串平衡的最少删除次数 1794]
268. [1186. 删除一次得到子数组最大和 1799]
269. [42. 接雨水（讲解）]
270. [2711. 对角线上不同值的数量差 做到 O(mn)]
271. [1477. 找两个和为目标值且不重叠的子数组 1851]
272. [2680. 最大或值 1912]
273. [1671. 得到山形数组的最少删除次数 1913]
274. [1888. 使二进制字符串字符交替的最少反转次数 2006]

补充题目：

输入一个长为 n 的 prices 数组，你需要返回一个长为 n 的 answer 数组，其中 answer[i] 表示删除 prices[i]，也就是禁止在第 i 天买卖股票，在此约束下 121. 买卖股票的最佳时机 的答案。
专题：把 X 变成 Y
部分题目也可以用 BFS 解决。

275. [397. 整数替换]
276. [2998. 使 X 和 Y 相等的最少操作次数 1795]
277. [2059. 转化数字的最小运算数 1850]
278. [991. 坏了的计算器 1909]

### 专题：跳跃游戏

279. [1306. 跳跃游戏 III 1397]
280. [2770. 达到末尾下标所需的最大跳跃次数 1533]
281. [403. 青蛙过河]
282. [1340. 跳跃游戏 V 1866]
283. [1871. 跳跃游戏 VII 1896]
284. [1696. 跳跃游戏 VI 1954]

### 其他 DP

285. [1387. 将整数按权重排序 1507]
286. [823. 带因子的二叉树 1900]
287. [940. 不同的子序列 II 1985]
288. [135. 分发糖果]
289. [650. 两个键的键盘]
290. [638. 大礼包]
291. [467. 环绕字符串中唯一的子字符串]

## 常用数据结构

### 零、常用枚举技巧

#### §0.1 枚举右，维护左

讲解

292. [1. 两数之和]
293. [1512. 好数对的数目 1161 做到 O(n)]
294. [2001. 可互换矩形的组数 同 1512 题]
295. [121. 买卖股票的最佳时机]
296. [2342. 数位和相等数对的最大和 1309]
297. [2815. 数组中的最大数对和 非暴力做法]
298. [1679. K 和数对的最大数目 1346 一次遍历]
299. [219. 存在重复元素 II]
300. [2260. 必须拿起的最小连续卡牌数 1365]
301. [624. 数组列表中的最大距离]
302. [1010. 总持续时间可被 60 整除的歌曲 1377]
303. [3185. 构成整天的下标对数目 II 同 1010 题]
304. [2506. 统计相似字符串对的数目 做到线性复杂度]
305. [2748. 美丽下标对的数目 非暴力做法]
306. [2874. 有序三元组中的最大值 II 1583]
307. [3371. 识别数组中的最大异常值 1644]
308. [1014. 最佳观光组合 1730]
309. [1814. 统计一个数组中好对子的数目 1738]
310. [2905. 找出满足差值条件的下标 II 1764]
311. [1031. 两个非重叠子数组的最大和 约 2000 做到 O(n)]

#### §0.2 枚举中间

对于三个或者四个变量的问题，枚举中间的变量往往更好算。

312. [2909. 元素和最小的山形三元组 II 1479]
313. [1930. 长度为 3 的不同回文子序列 1533]
314. [3128. 直角三角形 1541]
315. [2874. 有序三元组中的最大值 II 1583]
316. [447. 回旋镖的数量]
317. [456. 132 模式]
318. [3067. 在带权树网络中统计可连接服务器对数目 1909]

### 一、前缀和

#### §1.1 前缀和基础

讲解

319. [303. 区域和检索 - 数组不可变 模板题]
320. [3427. 变长子数组求和 做到 O(n)]
321. [2559. 统计范围内的元音字符串数 1435]
322. [3152. 特殊数组 II 1523]
323. [1749. 任意子数组和的绝对值的最大值 1542]
324. [2389. 和有限的最长子序列]
325. [3361. 两个字符串的切换距离 用前缀和解决]
326. [2055. 蜡烛之间的盘子 1819]
327. [1744. 你能在你最喜欢的那天吃到你最喜欢的糖果吗？ 1859]
328. [53. 最大子数组和]

思维扩展：

329. [1523. 在区间范围内统计奇数数目 1209]

#### §1.2 前缀和与哈希表

通常要用到「枚举右，维护左」的技巧。

讲解

330. [930. 和相同的二元子数组 1592]
331. [560. 和为 K 的子数组]
332. [1524. 和为奇数的子数组数目 1611]
333. [974. 和可被 K 整除的子数组 1676]
334. [523. 连续的子数组和]
335. [437. 路径总和 III]
336. [2588. 统计美丽子数组数目 1697]
337. [525. 连续数组]
338. [面试题 17.05. 字母与数字 同 525 题]
339. [3026. 最大好子数组和 1817]
340. [1477. 找两个和为目标值且不重叠的子数组 1851]
341. [1546. 和为目标值且不重叠的非空子数组的最大数目 1855]
342. [1124. 表现良好的最长时间段 1908]
343. [3381. 长度可被 K 整除的子数组的最大元素和 1943]
344. [2488. 统计中位数为 K 的子数组 1999]

#### §1.3 距离和

图解

345. [1685. 有序数组中差绝对值之和 1496]
346. [2615. 等值距离和 1793]
347. [2602. 使数组元素全部相等的最少操作次数 1903]

#### §1.4 前缀异或和

推荐先阅读：从集合论到位运算，常见位运算技巧分类总结！

348. [1177. 构建回文串检测 1848]

#### §1.5 其他一维前缀和

349. [1310. 子数组异或查询 1460]
350. [2438. 二的幂数组中查询范围内的乘积 1610]
351. [1895. 最大的幻方 1781]
352. [1878. 矩阵中最大的三个菱形和 1898 斜向前缀和]
353. [1031. 两个非重叠子数组的最大和 做到 O(n)]

#### §1.6 二维前缀和

【图解】一张图秒懂二维前缀和！

354. [304. 二维区域和检索 - 矩阵不可变]
355. [1314. 矩阵区域和 1484]
356. [3070. 元素和小于等于 k 的子矩阵的数目 1499]
357. [1738. 找出第 K 大的异或坐标值 1671]
358. [3212. 统计 X 和 Y 频数相等的子矩阵数量 1673]
359. [1292. 元素和小于等于阈值的正方形的最大边长 1735]
360. [221. 最大正方形]
361. [1277. 统计全为 1 的正方形子矩阵]
362. [1504. 统计全 1 子矩形 1845]

二维前缀最小值：

363. [3148. 矩阵中的最大得分 1820]

### 二、差分

#### §2.1 一维差分（扫描线）

差分与前缀和的关系，类似导数与积分的关系。

差分的前缀和就是原数组。

原理讲解（推荐和【图解】从一维差分到二维差分 一起看）

364. [2848. 与车相交的点 1230]
365. [1893. 检查是否区域内所有整数都被覆盖 1307]
366. [1854. 人口最多的年份 1370]
367. [2960. 统计已测试设备]
368. [1094. 拼车 1441]
369. [1109. 航班预订统计 1570]
370. [3355. 零数组变换 I 1591]
371. [56. 合并区间 做法见 我的评论]
372. [57. 插入区间]
373. [732. 我的日程安排表 III]
374. [2406. 将区间分为最少组数 1713]
375. [3453. 分割正方形 I 1735]
376. [2381. 字母移位 II 1793]
377. [995. K 连续位的最小翻转次数 1835]
378. [1589. 所有排列中的最大和 1871]
379. [1526. 形成目标数组的子数组最少增加次数 1872]
380. [3356. 零数组变换 II 1913 做法不止一种]
381. [1943. 描述绘画结果 1969]
382. [3224. 使差值相等的最少数组改动次数 1996 做法不止一种]

#### §2.2 二维差分

【图解】从一维差分到二维差分

383. [2536. 子矩阵元素加 1 1583]

### 三、栈

#### §3.1 基础

384. [1441. 用栈操作构建数组 1180]
385. [844. 比较含退格的字符串 1228]
386. [682. 棒球比赛]
387. [2390. 从字符串中移除星号 1348]
388. [1472. 设计浏览器历史记录 1454]
389. [946. 验证栈序列 1462]
390. [3412. 计算字符串的镜像分数 1578]
391. [71. 简化路径]
392. §3.2 进阶
393. [3170. 删除星号以后字典序最小的字符串 1772]
394. [155. 最小栈]
395. [1381. 设计一个支持增量操作的栈]
396. [636. 函数的独占时间]
397. [2434. 使用机器人打印字典序最小的字符串 1953]

#### §3.3 邻项消除

398. [2696. 删除子串后的字符串最小长度 1282]
399. [1047. 删除字符串中的所有相邻重复项 1286]
400. [1544. 整理字符串 1344]
401. [1003. 检查替换后的词是否有效 1427]
402. [2216. 美化数组的最少删除数 1510]
403. [1209. 删除字符串中的所有相邻重复项 II 1542]
404. [2211. 统计道路上的碰撞次数 1581]
405. [735. 小行星碰撞]
406. [1717. 删除子字符串的最大得分 1868]

#### §3.4 合法括号字符串

注：部分题目可以不用栈，而是用一个数字记录嵌套深度。

407. [20. 有效的括号]
408. [921. 使括号有效的最少添加 1242]
409. [1021. 删除最外层的括号 1311]
410. [1614. 括号的最大嵌套深度 1323]
411. [1190. 反转每对括号间的子串 1486]
412. [856. 括号的分数 1563]
413. [1249. 移除无效的括号 1657]
414. [1963. 使字符串平衡的最小交换次数 1689]
415. [678. 有效的括号字符串 约 1700]
416. [1111. 有效括号的嵌套深度 1749]
417. [1541. 平衡括号字符串的最少插入次数 1759]

#### §3.5 表达式解析

418. [1006. 笨阶乘 1408 引入栈的思想]
419. [150. 逆波兰表达式求值]
420. [394. 字符串解码]
421. [224. 基本计算器]
422. [227. 基本计算器 II]
423. [726. 原子的数量]
424. [1106. 解析布尔表达式 1880]

#### §3.6 对顶栈

425. [2296. 设计一个文本编辑器 1912 也可以用 Splay 树]

#### §3.7 单调栈

见 单调栈题单。

### 四、队列

队列常用在 BFS 中，见 网格图题单 和 图论题单。与此相比，栈常用在 DFS 中，但无需我们手动维护。

#### §4.1 基础

426. [933. 最近的请求次数 1338]
427. [950. 按递增顺序显示卡牌 1686]
428. [649. Dota2 参议院]

#### §4.2 设计

429. [225. 用队列实现栈]
430. [232. 用栈实现队列]
431. [622. 设计循环队列]
432. [641. 设计循环双端队列]
433. [1670. 设计前中后队列 1610]

#### §4.3 双端队列

434. [2810. 故障键盘 做到 O(n)]

#### §4.4 单调队列

个人觉得叫单调双端队列更准确。

原理讲解

435. [239. 滑动窗口最大值]
436. [LCR 184. 设计自助结算系统]
437. [1438. 绝对差不超过限制的最长连续子数组 1672]
438. [2762. 不间断子数组 同 1438 题]
439. [2398. 预算内的最多机器人数目 1917]

#### §4.5 单调队列优化 DP

一般用来维护一段转移来源的最值。

前提：区间右端点变大时，左端点也在变大（同滑动窗口）。
转移前，去掉队首无用数据。
计算转移（直接从队首转移）。
把数据（一般是 f[i]）插入队尾前，去掉队尾无用数据。

440. [2944. 购买水果需要的最少金币数 1709 可以用单调队列优化到 O(n)]
441. [1696. 跳跃游戏 VI 1954]
442. [1425. 带限制的子序列和 2032]

### 五、堆（优先队列）

#### §5.1 基础

443. [1046. 最后一块石头的重量 1173]
444. [3264. K 次乘运算后的最终数组 I 1178]
445. [2558. 从数量最多的堆取走礼物 1277]
446. [2336. 无限集中的最小数字 1375]
447. [2530. 执行 K 次操作后的最大分数 1386]
448. [3066. 超过阈值的最少操作数 II 1400]
449. [1962. 移除石子使总数最小 1419]
450. [703. 数据流中的第 K 大元素 经典题]
451. [3275. 第 K 近障碍物查询 1420]
452. [1845. 座位预约管理系统 1429 你能做到复杂度和 n 无关吗？]
453. [2208. 将数组和减半的最少操作次数 1550]
454. [2233. K 次增加后的最大乘积 1686]
455. [3296. 移山所需的最少秒数 1695]
456. [1942. 最小未被占据椅子的编号 1695]
457. [1801. 积压订单中的订单总数 1711]
458. [2406. 将区间分为最少组数 1713]
459. [2462. 雇佣 K 位工人的总代价 1764]
460. [1834. 单线程 CPU 1798]
461. [3478. 选出和最大的 K 个元素 ~1800]
462. [1792. 最大平均通过率 1818]
463. [2931. 购买物品的最大开销 1822]
464. [1882. 使用服务器处理任务 1979]

#### §5.2 进阶

465. [23. 合并 K 个升序链表]
466. [355. 设计推特]
467. [502. IPO]
468. [1705. 吃苹果的最大数目 1930]
469. [778. 水位上升的泳池中游泳]
470. [1631. 最小体力消耗路径 1948]

#### §5.3 重排元素

471. [984. 不含 AAA 或 BBB 的字符串 1474 不需要堆，选这题的目的是引入贪心思想]
472. [767. 重构字符串 1681]
473. [1054. 距离相等的条形码 1702]
474. [1953. 你可以工作的最大周数 1804]
475. [1405. 最长快乐字符串 1821]
476. [3081. 替换字符串中的问号使分数最小 1905]
477. [621. 任务调度器]

#### §5.4 第 K 小/大

部分题目也可以用二分解决。

478. [264. 丑数 II]
479. [378. 有序矩阵中第 K 小的元素]
480. [373. 查找和最小的 K 对数字 ]

#### §5.5 反悔堆

基于堆的反悔贪心。

481. [LCP 30. 魔塔游戏]
482. [1642. 可以到达的最远建筑 1962]

#### §5.6 懒删除堆

483. [2349. 设计数字容器系统 1540]
484. [2353. 设计食物评分系统 1782]
485. [3092. 最高频率的 ID 1793]
486. [3408. 设计任务管理器 1807]
487. [2034. 股票价格波动 1832]

#### §5.7 对顶堆（滑动窗口第 K 小/大）

### 六、字典树（trie）

#### §6.1 基础

模板

488. [208. 实现 Trie (前缀树)]
489. [211. 添加与搜索单词 - 数据结构设计]
490. [14. 最长公共前缀]
491. [648. 单词替换]
492. [677. 键值映射]
493. [720. 词典中最长的单词]
494. [1268. 搜索推荐系统 1573]
495. [1233. 删除子文件夹]
496. [820. 单词的压缩编码 1632]
497. [2416. 字符串的前缀分数和 1725]
498. [2261. 含最多 K 个可整除元素的子数组 做到 O(n 2)]

#### §6.2 进阶

499. [676. 实现一个魔法字典]

#### §6.3 字典树优化 DP

500. [139. 单词拆分]

§6.4 0-1 字典树（异或字典树）
部分题目也可以用试填法解决。

501. [421. 数组中两个数的最大异或值 约 2000]

### 七、并查集

#### §7.1 基础

502. [3493. 属性图 ~1600]
503. [990. 等式方程的可满足性 1638]
504. [721. 账户合并]

#### §7.2 进阶

505. [1202. 交换字符串中的元素 1855]
506. [1061. 按字典序排列最小的等效字符串]
507. [1722. 执行交换操作后的最小汉明距离 1892]
508. [765. 情侣牵手 1999]

#### §7.3 GCD 并查集

#### §7.4 数组上的并查集

509. [1562. 查找大小为 M 的最新分组 1928]
510. [1488. 避免洪水泛滥 1974]

#### §7.5 区间并查集

#### §7.6 边权并查集

511. [399. 除法求值]

### 八、树状数组和线段树

能用树状数组解决的题目，也能用线段树解决（反过来不一定）。但树状数组实现简单，代码短。

为方便大家练习，我把适合用树状数组解决的题目分到树状数组中，其余分到线段树中。

#### §8.1 树状数组

512. [307. 区域和检索 - 数组可修改]

#### §8.2 逆序对

除了可以用树状数组解决，部分题目也可以在归并排序的同时计算。

513. [LCR 170. 交易逆序对的总数]
514. [315. 计算右侧小于当前元素的个数]
515. [493. 翻转对]
516. [327. 区间和的个数]

#### §8.3 线段树（无区间更新）

线段树本质是二叉树，在学习之前，建议先做做 104 和 111 ，当作热身。

517. [104. 二叉树的最大深度 ]
518. [111. 二叉树的最小深度（自底向上写法）]

#### §8.4 Lazy 线段树（有区间更新）

#### §8.5 动态开点线段树

部分题目也可以用珂朵莉树解决。

519. [699. 掉落的方块]
520. [715. Range 模块]
521. [729. 我的日程安排表 I]
522. [731. 我的日程安排表 II]

#### 专题：离线算法

把询问排序，通过改变回答询问的顺序，使问题更容易处理。

相应的，在线算法就是按照 queries 的顺序一个一个处理。

523. [2343. 裁剪数字后查询第 K 小的数字 1652]
524. [2070. 每一个查询的最大美丽值 1724]

## 数学算法

### 一、数论

#### §1.1 判断质数

模板

525. [3115. 质数的最大距离 1294]
526. [2614. 对角线上的质数 1375]
527. [762. 二进制表示中质数个计算置位 1383]
528. [3044. 出现频率最高的质数 1737]
529. [866. 回文质数 1938]

#### §1.2 预处理质数（筛质数）

模板（埃氏筛和欧拉筛）

530. [204. 计数质数]
531. [2761. 和等于目标值的质数对 1505]
532. [3233. 统计不是特殊数字的数字数量 1509]
533. [2523. 范围内最接近的两个质数 1650]
534. [2601. 质数减法运算 1779]

#### §1.3 质因数分解

可以预处理 x 的最小质因子 LPF(x)，从而做到 O(logx) 分解 x。

535. [2521. 数组乘积中的不同质因数数目 1413]
536. [2507. 使用质因数之和替换后可以取到的最小值 1500]
537. [3326. 使数组非递减的最少除法操作次数 1864]

#### §1.4 阶乘分解

538. [172. 阶乘后的零]

#### §1.5 因子

539. [2427. 公因子的数目 1172]
540. [1952. 三除数 1204]
541. [1492. n 的第 k 个因子 1232]
542. [507. 完美数]
543. [1390. 四因数 1478]
544. [1362. 最接近的因数 1534]
545. [829. 连续整数求和 1694]
546. [3447. 将元素分配给有约束条件的组 1731 调和级数枚举]
547. [3164. 优质数对的总数 II 1777 调和级数枚举]

#### §1.6 最大公约数（GCD）

548. [1979. 找出数组的最大公约数 1184]
549. [2807. 在链表中插入最大公约数 1279]
550. [914. 卡牌分组 1371]
551. [1071. 字符串的最大公因子 1398]
552. [2344. 使数组可以被整除的最少删除次数 1641]
553. [365. 水壶问题]
554. [858. 镜面反射 1881]
555. [2654. 使数组所有元素变成 1 的最少操作次数 1929]
556. [1250. 检查「好数组」 1983 裴蜀定理]
557. [149. 直线上最多的点数]

#### §1.7 最小公倍数（LCM）

558. [2413. 最小偶倍数 1145]
559. [3334. 数组的最大因子得分 1519]

#### §1.8 互质

560. [2748. 美丽下标对的数目 1301]
561. [1447. 最简分数 约 1400]

#### §1.9 同余

562. [2453. 摧毁一系列目标 1762]
563. [2598. 执行操作后的最大 MEX 1846]

#### §1.10 其他

564. [326. 3 的幂]
565. [633. 平方数之和 费马平方和定理]
566. [279. 完全平方数 四平方和定理]
567. [1015. 可被 K 整除的最小整数 欧拉定理、欧拉函数]
568. [2240. 买钢笔和铅笔的方案数 类欧几里得算法]
569. [2221. 数组的三角和 欧拉定理/扩展卢卡斯 组合数模 10]

### 二、组合数学

组合数取模的模板见 模运算的世界：当加减乘除遇上取模

#### §2.1 乘法原理

570. [2125. 银行中的激光束数量 1280]
571. [3128. 直角三角形 1541]
572. [1573. 分割字符串的方案数 1591]
573. [2750. 将数组划分成若干好子数组的方式 1598]
574. [2550. 猴子碰撞的方法数 1663]
575. [1922. 统计好数字的数目 1675]
576. [3067. 在带权树网络中统计可连接服务器对数目 1909]
577. [2147. 分隔长廊的方案数 1915]
578. [2963. 统计好分割方案的数目 1985]

#### §2.2 组合计数

579. [62. 不同路径]
580. [357. 统计各位数字都不同的数字个数]
581. [1175. 质数排列 1489]
582. [3179. K 秒后第 N 个元素的值 组合公式]
583. [1359. 有效的快递序列数目 1723]
584. [2400. 恰好移动 k 步到达某一位置的方法数目 1751]

#### §2.3 放球问题

图解：多重集组合数

585. [1641. 统计字典序元音字符串的数目 1519]

#### §2.4 容斥原理

部分题目有其他解法，难度分仅供参考。

586. [2652. 倍数求和]
587. [878. 第 N 个神奇数字 1897]
588. §2.5 贡献法
589. [2063. 所有子字符串中的元音 1663]
590. [1588. 所有奇数长度子数组的和 做到 O(n)]

思维扩展：

591. [979. 在二叉树中分配硬币 1709]

### 三、概率期望

592. [1227. 飞机座位分配概率]
593. [688. 骑士在棋盘上的概率]

### 四、博弈论

594. [292. Nim 游戏 巴什博弈]
595. [1025. 除数博弈 1435]
596. [3227. 字符串元音游戏 1452]
597. [2038. 如果相邻两个颜色均相同则删除当前颜色 1468]
598. [877. 石子游戏 1590]
599. [1510. 石子游戏 IV 1787]
600. [486. 预测赢家]
601. [1690. 石子游戏 VII 1951]

### 五、计算几何

#### §5.1 点、线

602. [1232. 缀点成线 1247]
603. [2280. 表示一个折线图的最少线段数 1681]

#### §5.2 圆

604. [1401. 圆和矩形是否有重叠 1709]

#### §5.3 矩形、多边形

605. [836. 矩形重叠 1443]
606. [223. 矩形面积]
607. [593. 有效的正方形]
608. [939. 最小面积矩形 1752]
609. [963. 最小面积矩形 II 1991]

#### §5.4 凸包

### 六、随机算法

610. [398. 随机数索引]
611. [382. 链表随机节点]
612. [384. 打乱数组]
613. [470. 用 Rand7() 实现 Rand10()]
614. [528. 按权重随机选择]
615. [710. 黑名单中的随机数]
616. [478. 在圆内随机生成点]
617. [497. 非重叠矩形中的随机点]
618. [519. 随机翻转矩阵]
619. [380. O(1) 时间插入、删除和获取随机元素]

### 七、杂项

#### §7.1 回文数

620. [9. 回文数]
621. [2396. 严格回文的数字 1329]
622. [2217. 找到指定长度的回文数 1822]
623. [866. 回文质数 1938]

#### §7.2 整数拆分

624. [343. 整数拆分]

#### §7.3 曼哈顿距离

625. [3443. K 次修改后的最大曼哈顿距离 1856]

#### §7.5 其他

626. [1523. 在区间范围内统计奇数数目 1209]
627. [2829. k-avoiding 数组的最小总和 1347]
628. [2579. 统计染色格子数 1356]
629. [2834. 找出美丽数组的最小和 1409]
630. [1414. 和为 K 的最少斐波那契数字数目 1466]
631. [319. 灯泡开关 约 1500]
632. [1780. 判断一个数字是否可以表示成三的幂的和 1506]
633. [3091. 执行操作使数据元素之和大于等于 K 1522]
634. [3468. 可行数组的数目 1545 数学推导]
635. [2310. 个位数字为 K 的整数之和 1559]
636. [2844. 生成特殊数字的最少操作 1588]
637. [2541. 使数组中所有元素相等的最小操作数 II 1620]
638. [2195. 向数组中追加 K 个整数 1659]
639. [2457. 美丽整数的最小增量 1680]
640. [1017. 负二进制转换 1698]
641. [1954. 收集足够苹果的最小花园周长 1759]
642. [1073. 负二进制数相加 1807]
643. [1823. 找出游戏的获胜者 约瑟夫环]
644. [166. 分数到小数 有数学做法，可以不用哈希表]
645. [3012. 通过操作使数组长度最小 1833]

## 贪心算法

### 一、贪心策略

有两种基本贪心策略：

从最小/最大开始贪心，优先考虑最小/最大的数，从小到大/从大到小贪心。在此基础上，衍生出了反悔贪心。
从最左/最右开始贪心，思考第一个数/最后一个数的贪心策略，把 n 个数的原问题转换成 n−1 个数（或更少）的子问题。

#### §1.1 从最小/最大开始贪心

优先考虑最小/最大的数，从小到大/从大到小贪心。

如果答案与数组元素顺序无关，一般需要排序。排序后，可以遍历计算。

646. [3074. 重新分装苹果 1198]
647. [2279. 装满石头的背包的最大数量 1249]
648. [1833. 雪糕的最大数量 1253]
649. [1005. K 次取反后最大化的数组和 1275]
650. [1481. 不同整数的最少数目 1284]
651. [1403. 非递增顺序的最小子序列 1288]
652. [3010. 将数组分成最小总代价的子数组 I 1292]
653. [1338. 数组大小减半 1303]
654. [1710. 卡车上的最大单元数 1310]
655. [3075. 幸福值最大化的选择方案 1326]
656. [2554. 从一个范围内选择最多整数 I 1333]
657. [2126. 摧毁小行星 1335]
658. [2587. 重排数组以得到最大前缀分数 1337]
659. [976. 三角形的最大周长 1341]
660. [1561. 你可以获得的最大硬币数目 1406]
661. [3462. 提取至多 K 个元素的最大总和 1416]
662. [3301. 高度互不相同的最大塔高和 1448]
663. [945. 使数组唯一的最小增量 1448]
664. [1846. 减小和重新排列数组后的最大元素 1454]
665. [1647. 字符频次唯一的最小删除次数 1510]
666. [2971. 找到最大周长的多边形 1521]
667. [2178. 拆分成最多数目的正偶数之和 1538]
668. [2567. 修改两个元素的最小分数 1609]
669. [1509. 三次操作后最大值与最小值的最小差 1653]
670. [3397. 执行操作后不同元素的最大数量 1687]
671. [3457. 吃披萨 1704]
672. [LCP 40. 心算挑战 和下面这题一起做]
673. [1262. 可被三整除的最大和 1762]
674. [948. 令牌放置 1762]
675. [1775. 通过最少操作次数使数组的和相等 1850]
676. [3440. 重新安排会议得到最多空余时间 II 1998]

思维扩展：

677. [624. 数组列表中的最大距离]

#### §1.2 单序列配对

同上，从最小/最大的元素开始贪心。

678. [2144. 打折购买糖果的最小开销 1261]
679. [561. 数组拆分 约 1300]
680. [1877. 数组中最大数对和的最小值 1301]
681. [881. 救生艇 1530 经典题]
682. [2592. 最大化数组的伟大值 1569 田忌赛马]
683. [2576. 求出最多标记下标 1843]

#### §1.3 双序列配对

同上，从最小/最大的元素开始贪心。

684. [2037. 使每位学生都有座位的最少移动次数 1357]
685. [455. 分发饼干 1381]
686. [2410. 运动员和训练师的最大匹配数 1381 同 455 题]
687. [1433. 检查一个字符串是否可以打破另一个字符串 1436]
688. [870. 优势洗牌 1648 田忌赛马]
689. [826. 安排工作以达到最大收益 1709]

#### §1.4 从最左/最右开始贪心

对于无法排序的题目，尝试从左到右/从右到左贪心。思考第一个数/最后一个数的贪心策略，把 n 个数的原问题转换成 n−1 个数（或更少）的子问题。

读者可以对比下面的题目和 动态规划题单 中的线性 DP、状态机 DP 的区别，思考什么情况下只能 DP 不能贪心，从而加深对「局部最优」和「全局最优」的理解。

690. [3402. 使每一列严格递增的最少操作次数 1246]
691. [3191. 使二进制数组全部等于 1 的最少操作次数 I 1312]
692. [1827. 最少操作使数组递增 1315]
693. [2027. 转换字符串的最少操作次数 1346]
694. [605. 种花问题 约 1400]
695. [3111. 覆盖所有点的最少矩形数目 1401]
696. [2957. 消除相邻近似相等字符 1430]
697. [3192. 使二进制数组全部等于 1 的最少操作次数 II 1433]
698. [2789. 合并后数组中的最大元素 1485]
699. [1529. 最少的后缀翻转次数 同 3192 题]
700. [1144. 递减元素使数组呈锯齿状 1559]
701. [3228. 将 1 移动到末尾的最大操作次数 1593]
702. [2086. 喂食仓鼠的最小食物桶数 1623]
703. [2571. 将整数减少到零需要的最少操作数 1649]
704. [3326. 使数组非递减的最少除法操作次数 1864]
705. [1536. 排布二进制网格的最少交换次数 1881]
706. [2673. 使二叉树所有路径值相等的最小代价 1917]
707. [861. 翻转矩阵后的得分 约 2000]
708. [955. 删列造序 II 约 2000]

#### §1.5 划分型贪心

把数组/字符串划分成满足要求的若干段，最小化/最大化划分的段数。

思考方法同上，尝试从左到右/从右到左贪心。

读者可以对比下面的题目和 动态规划题单 中的划分型 DP 的区别，思考什么情况下只能 DP 不能贪心，从而加深对「局部最优」和「全局最优」的理解。

709. [1221. 分割平衡字符串 1220]
710. [2405. 子字符串的最优划分 1355]
711. [2294. 划分数组使最大差为 K 1416]
712. [2358. 分组的最大数量 1503]
713. [2522. 将字符串分割成值不超过 K 的子字符串 1605]
714. [1546. 和为目标值且不重叠的非空子数组的最大数目 1855]

#### §1.6 先枚举，再贪心

枚举题目的其中一个变量，将其视作已知条件，然后在此基础上贪心。

也可以枚举答案，检查是否可以满足要求。（类似二分答案）

715. [2171. 拿出最少数目的魔法豆 1748]
716. [3085. 成为 K 特殊字符串需要删除的最少字符数 1765]
717. [1727. 重新排列后的最大子矩阵 1927 结合 2171 题思考]

#### §1.7 交换论证法

讲解（以 2895 题为例）

718. [2895. 最小处理时间 1352]
719. [3457. 吃披萨 1704]
720. [1665. 完成所有任务的最少初始能量 1901]

补充：

721. [179. 最大数]
722. [3309. 连接二进制表示可形成的最大数值 非暴力做法]

#### §1.8 相邻不同

给定正整数数组，每次操作，把数组中的两个数各减少一，并去掉变成 0 的数。目标：使最后剩下的数最小，或者最大化操作次数。

由于每次操作的都是两个下标不同的数，把这些下标按顺序拼接，可以构造出一个相邻元素不同的序列。例如 (1,2),(2,3),(3,4) 这三个操作，可以拼接成 [1,2,3,2,3,4]。

证明/构造方案

723. [2335. 装满杯子需要的最短总时长 1360]
724. [1753. 移除石子的最大得分 1488 同 2335 题，数据范围更大]
725. [1054. 距离相等的条形码 1702]
726. [2856. 删除数对后的最小数组长度 1750 有 O(logn) 做法]
727. [1953. 你可以工作的最大周数 1804]
728. [767. 重构字符串 约 1900]

扩展：

729. [984. 不含 AAA 或 BBB 的字符串]
730. [1405. 最长快乐字符串 1821]

#### §1.9 反悔贪心

一般要用到堆。

讲解

731. [LCP 30. 魔塔游戏 约 1900]
732. [1642. 可以到达的最远建筑 1962]
733. [630. 课程表 III 约 2000]

### 二、区间贪心

区间贪心有如下经典问题：

不相交区间（单机器调度/活动安排）：给定一些区间，从中选出尽量多的两两互不相交的区间。
区间分组（任务调度/会议室）：给定一些区间，把这些区间分成最少的组，使得每组内的区间互不相交。
区间选点（射气球，Interval Stabbing）：给定一些区间，在数轴上放置最少的点，使得每个区间都包含至少一个点。最少要放置多少个点？
区间覆盖（灌溉花园）：给定一些区间，从中选出尽量少的区间，覆盖一条指定线段 [s,t]。
任务：总结上述四种区间贪心问题的解法，尤其是排序的规则和理由，什么时候要按照左端点排序？什么时候要按照右端点排序？排序的目的是什么？欢迎在评论区分享你的总结笔记。

#### §2.1 不相交区间

734. [435. 无重叠区间 约 1700]
735. [646. 最长数对链 同 435 题]

#### §2.2 区间分组

736. [2406. 将区间分为最少组数 1713]

#### §2.3 区间选点

本质上和不相交区间是一样的。

737. [452. 用最少数量的箭引爆气球 约 1700]

#### §2.4 区间覆盖

图解

738. [45. 跳跃游戏 II 约 1700]
739. [1024. 视频拼接 1746]
740. [1326. 灌溉花园的最少水龙头数目 1885]

#### §2.5 合并区间

可能算不上贪心，但为了题单的完整性，也放到这个分类中。

741. [56. 合并区间]
742. [57. 插入区间]
743. [55. 跳跃游戏]
744. [763. 划分字母区间 1443]
745. [3169. 无需开会的工作日 1483]
746. [2580. 统计将重叠区间合并成组的方案数 1632]
747. [3394. 判断网格图能否被切割成块 1916]
748. [2963. 统计好分割方案的数目 1985]

#### §2.6 其他区间贪心

749. [1288. 删除被覆盖区间 非暴力做法]
750. [2054. 两个最好的不重叠活动 1883]
751. [1705. 吃苹果的最大数目 1930]

### 三、字符串贪心

#### §3.1 字典序最小/最大

字典序的定义如下：

对于两个字符串 a 和 b，从左到右依次比较 a[i] 和 b[i] 的字符 ASCII 值的大小。
a[i]

=b[i] 时，如果 a[i]<b[i]，那么 a 的字典序更小，否则 b 的字典序更小。
如果没有出现 a[i]

=b[i]，则短的字符串字典序更小。
如果两个字符串的长度和内容均相同，那么两个字符串的字典序一样。
字典序的定义也可以推广到数组上，按照上述方法比较两个数组的字典序。

752. [1323. 6 和 9 组成的最大数字 1194]
753. [3216. 交换后字典序最小的字符串 1243]
754. [2697. 字典序最小回文串 1304]
755. [1881. 插入后的最大值 1381]
756. [2734. 执行子串操作后的字典序最小字符串 1405]
757. [1946. 子字符串突变后可能得到的最大整数 1445]
758. [1663. 具有给定数值的最小字符串 1461]
759. [1328. 破坏回文串 1474]
760. [2259. 移除指定数字得到的最大结果 非暴力做法]
761. [2566. 替换一个数字后的最大差值 非暴力做法]
762. [670. 最大交换 非暴力做法]
763. [3106. 满足距离约束且字典序最小的字符串 1515]
764. [1053. 交换一次的先前排列 1633]
765. [2375. 根据模式串构造最小数字 1642]
766. [2182. 构造限制重复的字符串 1680]
767. [738. 单调递增的数字 约 1700]
768. [3403. 从盒子中找出字典序最大的字符串 I 1762]
769. [3170. 删除星号以后字典序最小的字符串 1772]
770. [1363. 形成三的最大倍数 1823]
771. [1754. 构造字典序最大的合并字符串 1829]
772. [1202. 交换字符串中的元素 1855]
773. [2434. 使用机器人打印字典序最小的字符串 1953]
774. [1625. 执行操作后字典序最小的字符串 1992]

#### §3.2 回文串贪心

部分题目也出现在其他贪心分类中，为了题单的完整性整理到一起。

775. [409. 最长回文串 约 1250]
776. [2697. 字典序最小回文串 1304]
777. [680. 验证回文串 II 约 1400]
778. [1328. 破坏回文串 1474]
779. [1400. 构造 K 个回文字符串 1530]
780. [2131. 连接两字母单词得到的最长回文串 1557]
781. [2384. 最大回文数字 1636]
782. [3035. 回文字符串的最大数量 1857]
783. [1616. 分割两个字符串得到回文串 1868]
784. [1147. 段式回文 1912]

#### §3.3 合法括号字符串

见 数据结构题单 中的「§3.4 合法括号字符串」。

### 四、数学贪心

#### §4.1 基础

785. [2160. 拆分数位后四位数字的最小和 1314]
786. [2578. 最小和分割 1351]
787. [2244. 完成所有任务需要的最少轮数 1372]
788. [2870. 使数组为空的最少操作次数 1392]
789. [1217. 玩筹码 1408]
790. [LCS 01. 下载插件]
791. [3091. 执行操作使数据元素之和大于等于 K 1522]
792. [397. 整数替换]
793. §4.2 乘积贪心
794. [628. 三个数的最大乘积]
795. [1567. 乘积为正数的最长子数组长度 1710]

#### §4.3 排序不等式

给定两个长度均为 n 的数组 a 和 b，可以交换同一数组内的元素，最小化/最大化

a[0]⋅b[0]+a[1]⋅b[1]+⋯+a[n−1]⋅b[n−1]
把 a 和 b 都从小到大排序，可以最大化上式。

把 a 从小到大排序，b 从大到小排序，可以最小化上式。

796. [2285. 道路的最大总重要性 1496]
797. [3016. 输入单词需要的最少按键次数 II 1534]
798. [1402. 做菜顺序 1679]
799. [2931. 购买物品的最大开销 1822]
800. [1589. 所有排列中的最大和 1871]

#### §4.4 基本不等式

栅栏问题：长为 n 米的篱笆栅栏，围成一个矩形，矩形面积最大是多少？

变形：长为 n 米的栅栏分成 k 份，每份围成一个正方形，面积之和最小是多少？

801. [3081. 替换字符串中的问号使分数最小 1905]
802. [1969. 数组元素的最小非零乘积 1967]

#### §4.5 中位数贪心

给定数组，每次操作可以把其中一个数加一/减一，把所有数都变成一样的，最少要操作多少次？

把所有数都变成数组的中位数是最优的。

两种证明方法

803. [462. 最小操作次数使数组元素相等 II]
804. [2033. 获取单值网格的最小操作数 1672]

#### §4.6 归纳法

805. [2952. 需要添加的硬币的最小数量 1784]
806. [330. 按要求补齐数组 同 2952 题]
807. [1798. 你能构造出连续值的最大数目 1931]
808. §4.7 其他数学贪心
809. [1414. 和为 K 的最少斐波那契数字数目 1466 难点在证明上]
810. [3107. 使数组中位数等于 K 的最少操作数 1605]
811. [754. 到达终点数字 约 2000]

### 五、思维题

回想一下高考数学的最后一题，三个小问，前两小问让你计算一些特殊情况，第三小问让你计算/证明一个一般的结论。这其实就是从特殊到一般的思考方式，我们在做算法题（尤其是思维题和构造题）时，也可以从最简单、最特殊的情况开始，去探索题目的性质，逐渐过渡到一般情况。

思考清单

小型数组：nums 只有 1 个数？只有 2 个数？只有 3 个数？
万里挑一：nums 所有数都相同？只有一个数不一样？有两个数不一样？某个数特别大？
黑白世界：只有两种数？例如 [0,1,0,1,0,1] 或者 ababab。
反向思考：如果答案是 1，输入会是什么样的？如果答案是 2？是 nums[0]？是 nums[1]？
枚举归纳：试试小范围打表，暴力枚举所有情况，找规律。
思考这些特殊情况，有时会产生求解原问题的灵感。

#### §5.1 从特殊到一般

812. [2745. 构造最长的新字符串 1607 想一想 z=0 怎么做，z=1 怎么做，z=2 怎么做]
813. [2611. 老鼠和奶酪 1663 想一想 k=1 怎么做，k=2 怎么做]
814. [1029. 两地调度 同 2611 题]
815. [2645. 构造有效字符串的最少插入数 考虑 word 长为 2 的所有情况，以及答案等于 1 的情况]
816. [2202. K 次操作后最大化顶端元素 1717]
817. [2568. 最小无法得到的或值 1754]
818. [1702. 修改后的最大二进制字符串 1825]
819. [3012. 通过操作使数组长度最小 1833]
820. [1526. 形成目标数组的子数组最少增加次数 1872]
821. [2350. 不可能得到的最短骰子序列 1961]

#### §5.2 脑筋急转弯

从一般到特殊。

822. [2733. 既不是最小值也不是最大值 1148]
823. [3432. 统计元素和差值为偶数的分区方案 1200]
824. [1903. 字符串中的最大奇数 1249]
825. [2549. 统计桌面上的不同数字 1266]
826. [2396. 严格回文的数字 1329]
827. [1689. 十-二进制数的最少数目 1355]
828. [598. 区间加法 II 约 1400]
829. [521. 最长特殊序列 Ⅰ 约 1400]
830. [3227. 字符串元音游戏 1452]
831. [2419. 按位与最大的最长子数组 1496]
832. [3424. 将数组变相同的最小代价 1503]
833. [1992. 找到所有的农场组 1539]
834. [1007. 行相等的最少多米诺旋转 1541]
835. [2811. 判断是否能拆分数组 1543]
836. [2211. 统计道路上的碰撞次数 1581]
837. [3207. 与敌人战斗后的最大分数 1591]
838. [3471. 找出最大的几近缺失整数 做到 O(n)]
839. [2546. 执行逐位运算使字符串相等 1605]
840. [1503. 所有蚂蚁掉下来前的最后一刻 1619]
841. [2860. 让所有学生保持开心的分组方法数 1626]
842. [1332. 删除回文子序列 1629]
843. [1975. 最大方阵和 1648]
844. [1145. 二叉树着色游戏 1741]
845. [1297. 子串的最大出现次数 1748]
846. [3282. 到达数组末尾的最大得分 1772]
847. [2712. 使所有字符相等的最小成本 1791]
848. [2332. 坐上公交的最晚时间 1841]
849. [2680. 最大或值 1912]
850. [2731. 移动机器人 1923 联系 1503 题]

#### §5.3 逆向思维

851. [2139. 得到目标值的最少行动次数 1417]
852. [1558. 得到目标数组的最少函数调用次数 1637]
853. [554. 砖墙 约 1700]
854. [2718. 查询后矩阵的和 1769 时光倒流]
855. [417. 太平洋大西洋水流问题 约 1900]
856. [991. 坏了的计算器 1909]
857. [2227. 加密解密字符串 1945]

#### §5.4 等价转换

858. [3375. 使数组的值全部为 K 的最少操作次数 1383]
859. [2914. 使二进制字符串变美丽的最少修改次数 1480]
860. [3365. 重排子字符串以形成目标字符串 1514]
861. [1657. 确定两个字符串是否接近 1530]

### 六、构造题

构造题会给定一些约束，我们要构造一个满足这些约束的数组/字符串等。

思考方式和第五章的「思考清单」是一样的，在特殊情况中寻找灵感。

862. [942. 增减字符串匹配 1444]
863. [1968. 构造元素不等于两相邻元素平均值的数组 1499 做法不止一种，见我在官解下的 评论]
864. [1253. 重构 2 行二进制矩阵 1506]
865. [2182. 构造限制重复的字符串 1680]
866. [969. 煎饼排序 约 1800]
867. [1605. 给定行和列的和求可行矩阵 1868 西北角法]
868. [2375. 根据模式串构造最小数字 做到 O(n)]
869. [324. 摆动排序 II 约 2000]

### 七、其他

870. [2740. 找出分区值 1302]
871. [1033. 移动石子直到连续 1421]
872. [1864. 构成交替字符串需要的最小交换次数 1601]
873. [1899. 合并若干三元组以形成目标三元组 1636]
874. [2498. 青蛙过河 II 1759]
875. [134. 加油站]
876. [2311. 小于等于 K 的最长二进制子序列 1840]
877. [3443. K 次修改后的最大曼哈顿距离 1856]
878. [3002. 移除后集合的最多元素数 1917]

## 链表、二叉树与回溯

### 一、链表

注：由于周赛中的链表题可以转成数组处理，难度比直接处理链表低，故不标明难度分。

带着问题去做下面的题目：

在什么情况下，要用到哨兵节点（dummy node）？
在什么情况下，循环条件要写 while (node != null)？什么情况下要写 while (node.next != null)？

#### §1.1 遍历链表

879. [1290. 二进制链表转整数]
880. [2058. 找出临界点之间的最小和最大距离]
881. [2181. 合并零之间的节点]
882. [725. 分隔链表]
883. [817. 链表组件]

### §1.2 删除节点

视频讲解【基础算法精讲 08】

884. [203. 移除链表元素]
885. [3217. 从链表中移除在数组中存在的节点]
886. [83. 删除排序链表中的重复元素]
887. [82. 删除排序链表中的重复元素 II]
888. [237. 删除链表中的节点]
889. [1669. 合并两个链表]
890. [2487. 从链表中移除节点]

#### §1.3 插入节点

891. [2807. 在链表中插入最大公约数]
892. [147. 对链表进行插入排序]
893. [LCR 029. 循环有序列表的插入]

#### §1.4 反转链表

视频讲解【基础算法精讲 06】

894. [206. 反转链表]
895. [92. 反转链表 II]
896. [24. 两两交换链表中的节点]
897. [25. K 个一组翻转链表]
898. [2074. 反转偶数长度组的节点]

#### §1.5 前后指针

视频讲解【基础算法精讲 08】

899. [19. 删除链表的倒数第 N 个结点]
900. [61. 旋转链表]
901. [1721. 交换链表中的节点]

#### §1.6 快慢指针

视频讲解【基础算法精讲 07】

902. [876. 链表的中间结点]
903. [2095. 删除链表的中间节点]
904. [234. 回文链表]
905. [2130. 链表最大孪生和]
906. [143. 重排链表]
907. [141. 环形链表]
908. [142. 环形链表 II]
909. [457. 环形数组是否存在循环]

#### §1.7 双指针

910. [328. 奇偶链表]
911. [86. 分隔链表]
912. [160. 相交链表]
913. §1.8 合并链表
914. [2. 两数相加]
915. [445. 两数相加 II]
916. [2816. 翻倍以链表形式表示的数字]
917. [21. 合并两个有序链表]

#### §1.10 综合应用

918. [1019. 链表中的下一个更大节点]
919. [1171. 从链表中删去总和值为零的连续节点]
920. [707. 设计链表]

#### §1.11 其他

921. [138. 随机链表的复制]
922. [382. 链表随机节点]
923. [430. 扁平化多级双向链表]

### 二、二叉树

#### §2.1 遍历二叉树

924. [144. 二叉树的前序遍历]
925. [94. 二叉树的中序遍历]
926. [145. 二叉树的后序遍历]
927. [872. 叶子相似的树 1288]
928. [LCP 44. 开幕式焰火]
929. [404. 左叶子之和]
930. [671. 二叉树中第二小的节点]

#### §2.2 自顶向下 DFS

在「递」的过程中维护值。

有些题目自顶向下和自底向上都可以做。有些题目也可以用 BFS 做。

931. [104. 二叉树的最大深度]
932. [111. 二叉树的最小深度]
933. [112. 路径总和]
934. [129. 求根节点到叶节点数字之和]
935. [199. 二叉树的右视图]
936. [1448. 统计二叉树中好节点的数目 1360]
937. [1457. 二叉树中的伪回文路径 1405]
938. [1315. 祖父节点值为偶数的节点和 1427]
939. [988. 从叶结点开始的最小字符串 1429]
940. [1026. 节点与其祖先之间的最大差值 1446]
941. [1022. 从根到叶的二进制数之和 1462]
942. [623. 在二叉树中增加一行]
943. [1372. 二叉树中的最长交错路径 1713]
944. [971. 翻转二叉树以匹配先序遍历 1787 有简单做法]

#### §2.3 自底向上 DFS

在「归」的过程中计算。

如何灵活运用递归？【基础算法精讲 10】

945. [104. 二叉树的最大深度]
946. [111. 二叉树的最小深度]
947. [965. 单值二叉树 1178]
948. [100. 相同的树]
949. [101. 对称二叉树]
950. [951. 翻转等价二叉树]
951. [1379. 找出克隆二叉树中的相同节点]
952. [110. 平衡二叉树]
953. [226. 翻转二叉树]
954. [617. 合并二叉树]
955. [2331. 计算布尔二叉树的值 1304]
956. [508. 出现次数最多的子树元素和]
957. [563. 二叉树的坡度]
958. [606. 根据二叉树创建字符串]
959. [2265. 统计值等于子树平均值的节点数 1473]
960. [1026. 节点与其祖先之间的最大差值 多种做法]
961. [3319. 第 K 大的完美二叉子树的大小 1603]
962. [1339. 分裂二叉树的最大乘积 1675]
963. [1372. 二叉树中的最长交错路径 1713]
964. [1145. 二叉树着色游戏 1741]
965. [572. 另一棵树的子树 做到 O(n) 时间]
966. [1530. 好叶子节点对的数量 做到低于 O(n 2) 时间]
967. [LCP 67. 装饰树]

#### §2.4 自底向上 DFS：删点

968. [814. 二叉树剪枝 1380]
969. [1325. 删除给定值的叶子节点 1407]
970. [1110. 删点成林 1511]

#### §2.5 有递有归

971. [538. 把二叉搜索树转换为累加树 1375 也可以用外部变量记录和]
972. [1038. 从二叉搜索树到更大和树 同 538 题]
973. [865. 具有所有最深节点的最小子树 1534 也可以自底向上]
974. [1080. 根到叶路径上的不足节点 1805]

#### §2.6 直径

视频讲解【基础算法精讲 23】

975. [543. 二叉树的直径]
976. [687. 最长同值路径]
977. [124. 二叉树中的最大路径和]
978. [2385. 感染二叉树需要的总时间 1711]

#### §2.7 回溯

979. [257. 二叉树的所有路径]
980. [113. 路径总和 II]
981. [437. 路径总和 III]

#### §2.8 最近公共祖先

视频讲解【基础算法精讲 12】

982. [235. 二叉搜索树的最近公共祖先]
983. [236. 二叉树的最近公共祖先]
984. [1123. 最深叶节点的最近公共祖先 1607]
985. [2096. 从二叉树一个节点到另一个节点每一步的方向 1805]

#### §2.9 二叉搜索树

视频讲解【基础算法精讲 11】

986. [700. 二叉搜索树中的搜索]
987. [530. 二叉搜索树的最小绝对差 1303]
988. [783. 二叉搜索树节点最小距离 同 530 题]
989. [938. 二叉搜索树的范围和 1335]
990. [501. 二叉搜索树中的众数]
991. [230. 二叉搜索树中第 K 小的元素]
992. [98. 验证二叉搜索树 有前序、中序和后序三种做法]
993. [1305. 两棵二叉搜索树中的所有元素]
994. [99. 恢复二叉搜索树]
995. [897. 递增顺序搜索树 1473]
996. [2476. 二叉搜索树最近节点查询 1597]
997. [653. 两数之和 IV - 输入二叉搜索树]
998. [1373. 二叉搜索子树的最大键值和 1914]

#### §2.10 创建二叉树

999. [108. 将有序数组转换为二叉搜索树]
1000. [654. 最大二叉树]
1001. [998. 最大二叉树 II 1498]
1002. [1008. 前序遍历构造二叉搜索树 1563]
1003. [1382. 将二叉搜索树变平衡]
1004. [2196. 根据描述创建二叉树 1644]
1005. [105. 从前序与中序遍历序列构造二叉树]
1006. [106. 从中序与后序遍历序列构造二叉树]
1007. [889. 根据前序和后序遍历构造二叉树 1732]
1008. [1028. 从先序遍历还原二叉树 1797]

#### §2.11 插入/删除节点

1009. [701. 二叉搜索树中的插入操作]
1010. [450. 删除二叉搜索树中的节点]
1011. [669. 修剪二叉搜索树]

#### §2.12 树形 DP

1012. [337. 打家劫舍 III]
1013. [968. 监控二叉树]
1014. [LCP 10. 二叉树任务调度]
1015. [LCP 34. 二叉树染色]
1016. [LCP 64. 二叉树灯饰]

#### §2.13 BFS

视频讲解【基础算法精讲 13】

1017. [102. 二叉树的层序遍历]
1018. [103. 二叉树的锯齿形层序遍历]
1019. [107. 二叉树的层序遍历 II]
1020. [199. 二叉树的右视图]
1021. [513. 找树左下角的值]
1022. [515. 在每个树行中找最大值]
1023. [637. 二叉树的层平均值]
1024. [1161. 最大层内元素和 1250]
1025. [993. 二叉树的堂兄弟节点 1288]
1026. [2583. 二叉树中的第 K 大层和 1374]
1027. [1302. 层数最深叶子节点的和 1388]
1028. [2415. 反转二叉树的奇数层 1431]
1029. [1609. 奇偶树 1438]
1030. [623. 在二叉树中增加一行]
1031. [2471. 逐层排序二叉树所需的最少操作数目 1635]
1032. [863. 二叉树中所有距离为 K 的结点 1663]
1033. [2641. 二叉树的堂兄弟节点 II 1677]
1034. [919. 完全二叉树插入器 1691]
1035. [331. 验证二叉树的前序序列化]
1036. [958. 二叉树的完全性检验 1703]
1037. [662. 二叉树最大宽度]

#### §2.14 链表+二叉树

1038. [114. 二叉树展开为链表]
1039. [1367. 二叉树中的链表 1650]
1040. [109. 有序链表转换二叉搜索树]

#### §2.15 N 叉树

1041. [589. N 叉树的前序遍历]
1042. [590. N 叉树的后序遍历]
1043. [559. N 叉树的最大深度]
1044. [429. N 叉树的层序遍历]
1045. [427. 建立四叉树]
1046. [558. 四叉树交集]

#### §2.16 其他

1047. [297. 二叉树的序列化与反序列化]
1048. [449. 序列化和反序列化二叉搜索树]
1049. [652. 寻找重复的子树]
1050. [173. 二叉搜索树迭代器]
1051. [1261. 在受污染的二叉树中查找元素 1440]
1052. [1104. 二叉树寻路 1545]
1053. [987. 二叉树的垂序遍历 1676]
1054. [655. 输出二叉树]
1055. [979. 在二叉树中分配硬币 1709 贡献法]
1056. [222. 完全二叉树的节点个数 做到低于 O(n) 时间]
1057. [2049. 统计最高分的节点数目 1912]
1058. [2673. 使二叉树所有路径值相等的最小代价 1917]
1059. [2509. 查询树中环的长度 1948]

### 三、一般树

#### §3.1 遍历

1060. [2368. 受限条件下可到达节点的数目 1477]
1061. [1466. 重新规划路线 1634]

#### §3.2 自顶向下 DFS

1062. [1376. 通知所有员工所需的时间 1561]
1063. [1443. 收集树上所有苹果的最少时间 1683]
1064. [1377. T 秒后青蛙的位置 1824]
1065. [3067. 在带权树网络中统计可连接服务器对数目 1909]
1066. [3372. 连接两棵树后最大目标节点数目 I 1927]

#### §3.3 自底向上 DFS

1067. [3249. 统计好节点的数目 1566]
1068. [1519. 子树中标签相同的节点数 1809]
1069. [2872. 可以被 K 整除连通块的最大数目 1968]

#### §3.4 有递有归

#### §3.5 直径

#### §3.6 DFS 时间戳

#### §3.7 拓扑排序

1070. [310. 最小高度树]

#### §3.8 最近公共祖先（LCA）

讲解

1071. [1483. 树节点的第 K 个祖先 2115 模板题]

#### §3.9 树上滑动窗口

#### §3.10 其他

### 四、回溯

本质是搜索树上的 DFS。

推荐先完成 §2.7 节。先理解二叉树上的回溯，再来学习一般情况下的回溯。

#### §4.1 入门回溯

视频讲解【基础算法精讲 14】

1072. [17. 电话号码的字母组合]

#### §4.2 子集型回溯

视频讲解【基础算法精讲 14】

有「选或不选」和「枚举选哪个」两种写法。

也可以用二进制枚举做。

1073. [78. 子集]
1074. [1863. 找出所有子集的异或总和再求和 1372]
1075. [784. 字母大小写全排列]
1076. [1286. 字母组合迭代器 1591]
1077. [494. 目标和]
1078. [LCP 51. 烹饪料理]
1079. [2397. 被列覆盖的最多行数 1719]
1080. [1239. 串联字符串的最大长度 1720]
1081. [2212. 射箭比赛中的最大得分 1869]
1082. [1255. 得分最高的单词集合 1882]
1083. [2151. 基于陈述统计最多好人数 1980]

思维扩展：

1084. [39. 组合总和 同一个数可以重复选]

#### §4.3 划分型回溯

视频讲解【基础算法精讲 14】

把分割线（逗号）看成是可以「选或不选」的东西，本质是子集型回溯。

1085. [131. 分割回文串]
1086. [2698. 求一个整数的惩罚数 1679]
1087. [1593. 拆分字符串使唯一子字符串的数目最大 1740]
1088. [1849. 将字符串拆分为递减的连续值 1747]
1089. [306. 累加数]
1090. [842. 将数组拆分成斐波那契序列 1780]
1091. [93. 复原 IP 地址]
1092. [816. 模糊坐标]

#### §4.4 组合型回溯

视频讲解【基础算法精讲 15】

有个数上的约束。也算作子集型回溯。

1093. [77. 组合]
1094. [216. 组合总和 III]
1095. [22. 括号生成 本质是从 2n 个位置中选 n 个位置放左括号，剩余 n 个位置放右括号]

#### §4.5 排列型回溯

视频讲解【基础算法精讲 16】

部分题目也可以用状压 DP 做。

1096. [46. 全排列]
1097. [3376. 破解锁的最少时间 I 1793]
1098. [51. N 皇后 本质是枚举列号的全排列]
1099. [52. N 皇后 II]
1100. [2850. 将石头分散到网格图的最少移动次数 2001]

#### §4.6 爆搜+剪枝

1101. [3211. 生成不含相邻零的二进制字符串 1353]
1102. [967. 连续差相同的数字 1433]
1103. [1415. 长度为 n 的开心字符串中字典序第 k 小的字符串 1576 也有 O(n) 的做法]
1104. [1219. 黄金矿工 1663]
1105. [79. 单词搜索]
1106. [980. 不同路径 III 1830]
1107. [1255. 得分最高的单词集合 1882]
1108. [473. 火柴拼正方形]

#### §4.7 有重复元素的回溯

1109. [90. 子集 II]
1110. [40. 组合总和 II]
1111. [491. 非递减子序列]
1112. [47. 全排列 II]
1113. [1079. 活字印刷 1741]

## 字符串

### 一、KMP

定义 s 的真前缀为不等于 s 的前缀，s 的真后缀为不等于 s 的后缀。

定义 s 的 border 为既是 s 的真前缀又是 s 的真后缀的字符串。例如在 s=aabcaa 中，a 和 aa 都是 s 的 border。

对于模式串 p 的每个前缀 p[:i]，计算这个前缀的最长 border 长度，记在 π 数组中。

利用 π 数组，可以快速计算模式串 p 出现在文本串 t 的哪些位置上。代码模板见 我的题解。

注：π 数组的定义参考《算法导论》，国内数据结构教材通常定义为 next 数组。以严蔚敏那本为例，二者的关系是 next[i+1]=π[i]+1，即 π 数组整体右移一位，元素值加一。

1114. [28. 找出字符串中第一个匹配项的下标 模板题]
1115. [796. 旋转字符串 做到 O(n+m)]
1116. [1392. 最长快乐前缀 1876]
1117. [3036. 匹配模式数组的子数组数目 II 1895]
1118. [1764. 通过连接另一个数组的子数组得到一个数组 做到线性时间复杂度]
1119. [1668. 最大重复子字符串 做到 O(n+m)]
1120. [459. 重复的子字符串 做到 O(n)]

### 二、Z 函数（扩展 KMP）

1121. [2223. 构造字符串的总得分和 2220 模板题]

LCP 数组

### 三、Manacher 算法

Manacher 算法可以计算以 s[i]（或者 s[i] 和 s[i+1]）为回文中心的最长回文子串的长度。

此外，还可以：

判断任意子串是否为回文串。
计算从 s[i] 开始的最长回文子串的长度。
计算以 s[i] 结尾的最长回文子串的长度。
Z 函数和 Manacher 算法都会用到类似 Z-box 的概念，在学习时，可以对比体会。

1122. [5. 最长回文子串 模板题]
1123. [647. 回文子串 计算回文子串个数]

### 四、字符串哈希

本题单的大多数题目都可以用字符串哈希解决。

推荐先把 2156. 查找给定哈希值的子串 做了，对理解多项式哈希的计算方法有帮助。

模板代码见 我的题解，包含单模哈希和双模哈希。

1124. [28. 找出字符串中第一个匹配项的下标]
1125. [187. 重复的 DNA 序列]
1126. [1316. 不同的循环子字符串 1837]
1127. [1297. 子串的最大出现次数 做到 O(n)]
1128. [2261. 含最多 K 个可整除元素的子数组 做到 O(n 2)]

### 五、最小表示法

定义循环左移操作：把字符串 s 的第一个字符 s[0] 移除，添加到 s 的末尾。例如 abcd 操作一次后得到 bcda。

问题：你可以执行任意次循环左移操作，计算你能得到的字典序最小的字符串。

推荐先完成

1129. [1163. 按字典序排在最后的子串，再做下面这题]
1130. [899. 有序队列 k=1 的情况即为最小表示法，可以 O(n) 解决]
1131. [3403. 从盒子中找出字典序最大的字符串 I]

### 六、字典树

见 数据结构题单 第六章。

### 七、AC 自动机

AC 自动机 = 字典树 + KMP。

由于这些题目也可以用其他算法（字符串哈希等）解决，难度分仅供参考。

1132. [1032. 字符流 1970 模板题]
1133. [面试题 17.17. 多次搜索 模板题]
1134. [1408. 数组中的字符串匹配 做到线性时间复杂度]

### 八、后缀数组/后缀自动机

由于这些题目也可以用其他算法（字符串哈希等）解决，难度分仅供参考。

1135. [1163. 按字典序排在最后的子串 1864]
1136. [1754. 构造字典序最大的合并字符串 可以做到 O(n+m)]
1137. [2904. 最短且字典序最小的美丽子字符串 可以做到 O(nlogn)]

### 九、子序列自动机

上面都是和子串相关的算法，本节是和子序列相关的算法：子序列自动机。

虽然名字有些高大上，但实际上只是预处理 ≥i 的最近字母 c 的下标而已。

见 讲解 中的「进阶问题」。

1138. [792. 匹配子序列的单词数 1695]

### 十、其他
