## page 1

各位领导和导师下午好，我是谢飞，现在开始我的试用期转正汇报。

## page 2

我将从以下三个方面展开我的汇报。

## page 3

首先是试用期工作总结。我将针对试用期的目标来进行具体阐述。

## page 4

1.工作成果的总结，在试用期这三个月里，我参与了 IOT 规则引擎（新）V1.0 和 V1.1 版本、带球黑灯工程管控平台

## page 5

IoT 规则引擎是一个 PaaS 层的制造业设备监测和分析服务，该系统能够自动进行数据预警，并基于业务规则生成数据预警资产库，为智慧运营项目和金恒大集控类项目提供支持。
在旧版的基础上，新版开发的主要目的在于简化配置流程、降低用户操作难度，同时提升配置的灵活性和拓展性。
IOT 规则引擎用可视化的配置方式，高度抽象公共规则，实现规则配置化，降低各领域的开发难度和代码冗余。为各个行业提供数据处理的计算引擎和规则引擎。
通过项目的参与，对规则引擎的整体业务流程有所了解，并熟悉公司所使用的前端框架和代码风格。同时也学习到前端常用的拖动方案，做到学习工作一体。

## page 6

接下来我将介绍我所完成的模块及功能点。
首先是算子注册模块。允许用户注册和使用计算、查询、消息等类型算子（操作节点）的功能。这些算子通常用于执行特定的数学运算、逻辑运算或其他类型的计算任务。算子注册功能的主要目的是提供一个灵活的、可扩展的方法来处理各种计算需求。
主要的功能点如下：

1. 左侧的算子分组管理；
2. 算子列表展示、搜索、新增、查看、删除；
3. 算子基本信息的编辑和展示；
4. 图标上传组件的改造；
   1. 问题：
      用户进行上传或删除图标操作后，此时如果用户直接关闭页面，对图标文件的操作无法撤回。用户可能会产生困惑：我没有保存，为什么图标上传了？
   2. 解决方案：
      将图片的上传的操作与表单提交绑定，统一整个页面的提交逻辑。改造图片上传组件暴露出 submit 方法，用户只对组件的 fileList 操作，当保存时再上传图标并提交表单。

## page 7

5. 算子属性/出入参表格表单的动态校验；
   - 问题：
     算子属性和出入参允许用户在表格中直接添加和修改字段，保存时需要校验规则，静态的校验方案需要在保存时遍历表格内容进行判断，然后修改标识符给出提示，不能实时提示用户的输入是否合法。
   - 解决方案：
     用表格的行标为 el-form-item 动态绑定 prop 参数实现输入框的动态校验，并将错误提示改为 message 提示，保证了表格的行高不会被错误提示突然撑开。
6. 算子属性行间的拖动排序；

   - 问题：
     算子属性允许用户自定义排序，使用拖动改变排序便捷且直观，但是 element-ui 不支持表格中行的拖动。
   - 解决方案：
     使用 sortable.js 实现列表行与行之间的拖动交换排序，并判断拖动是否合法，禁止不同层级交换排序。

7. 代码优化
   - vue2 选项式 API 改造成 vue3 setup 组合式 API 风格；
   - 将 Mixin 改为组合式函数使用；
     之前代码中包含 Mixin 导致难以将代码升级成 vue3。将 Mixin 改为组合式函数，数据来源清晰，同时避免函数和变量重名现象。
   - 编辑页面组件的抽离；
     算子注册和编辑页面代码量过大，将基本信息、属性、出入参抽离封装成组件，减少文件代码量，并使用 eventBus 进行组件通讯，便于后期维护。

## page 8

涉及的第二个模块为规则流，主要设计和配置规则执行流。具体包含规则详情、规则权限、保存并设计画布等，最终会生成可执行的 EL 表达式。
我所完成的主要功能点如下：

1. 规则列表的展示；
2. 规则复制；
3. 执行报警结果展示；
4. 任务执行记录展示；
5. 规则点位的历史追踪；

## page 9

6. CRON 表达式生成组件；
   - 问题：
     用户可以选择时间频率和 cron 表达式两种模式定时触发规则。部分用户可能不了解 cron 表单表达式的规则和作用，所以需要内置 cron 表达式生成。
   - 解决方案：
     对开源库进行改造，添加 cron 表达式的反解析、展示最近 5 条执行时间、常用表达式示例、结果自动填入表单，降低用户配置 cron 表达式的操作难度。
7. 算子的分组展示；
8. 代码生成组件;
   使用 vue3 draggable.next 插件实现参数、常数和运算符的拖拽，并用不同颜色进行区分。实时对拖动生成的公式解析和展示，保存时对生成的公式进行合法性校验。

## page 10

第三个模块为过程点位，管理提供给规则流使用的过程点位信息。

1. 过程点位列表展示和搜索；
2. 导出模版和导入编码；
3. 过程点位编辑；
4. 过程点位的数据流向；
   过程点位可能来源于多个原始点位，所有使用 leader-line 绘制指引线，图形化展示数据流向，清晰明了地告知用户过程点位的来源。

## page 11

IOT 规则引擎（新）V1.1 在 V1.0 基础进行了进一步优化，并针对用户提出的建议做出修改。

## page 12

首先是算子注册页面的优化。算子禁用会导致正在使用的规则异常，所以添加警告提示用户正在使用的当前算子的规则。

## page 13

其他主要是规则流模块的优化。

1. 规则列表添加规则状态展示；
2. 规则的历史版本展示和回退；
3. 规则详情表单的展开和收起；让用户可以更清楚的预览画布；
4. 流程节点的修改：
   - 连接线变成动态；增加流程感
   - 推送中间件的展示；
   - 入参移入显示名称；
   - 默认上级出参为下级节点入参；
   - 删除节点自动删除后续所有节点并提示；

## page 14

5. 画布放大和缩小快捷按钮；
6. 小地图的展示；
7. 清除画布快捷键绑定；
8. 快捷键的提示；
9. 规则详情的展示；

## page 15

10. 点位挑选的功能优化。点位解绑时提示使用点位的节点名称。点位增加替换功能，当用户复制后直接替换点位已获得想要的规则。
11. 画布保存校验；提交画布时校验节点的属性
    和入参是否填写，在流程节点右下角加图标表示验证是否通过并弹窗提示校验未通过的节点和对应属性。
12. 代码生成添加版本回退功能；

## page 16

另外还有一些用户提出的优化需求；

## page 17

工作总结的最后一个部分是带球黑灯工程管控平台项目，我所负责的模块为原料管理，为球团厂提供仓储信息、原料计算和边料记录等服务。
主要功能为仓位管理、正向计算和边料记录

## page 18

## page 19

## page 20

## page 21

接下来是试用期间我的一些学习总结

## page 22

参照试用期目标我主要从一下六个方面开展了前端知识的学习。

## page 23

我将选择 javascript 中原型和原型链来进行汇报，以展示我的学习成果。

js 中数据类型可以分为两大类：简单类型和引用类型。用 typeof 可以判断出简单类型值的类型，但需要注意 typeof null 为 object，因为在 Javascript 中 null 表示的含义为空对象。

## page 24

而对引用类型使用 typeof 除了函数类型返回值为 function，其余的返回值都为 Object。

引用类型一般使用 instanceof 来进行判断。fun instanceof Object 返回的为 true。这表明一切的引用类型都是对象。

## page 25

众所周知，JS 的复杂类型都是对象类型（Object），而 JS 不是一门完全面向对象编程的语言，所以如何涉及继承机制，就是一个问题。
因为 JS 中没有类（Class）这个概念，所以 JS 的设计者使用了构造函数来实现继承机制。
ES6 中的 class 可以看作只是一个语法糖，它的绝大部分的功能，ES5 都可以做到，新的 class 写法只是让原型的写法更加的清晰、更像面向对象编程的语法而已。
对象都是通过函数创建，对象可以通过以下三种最基础的方式进行创建：

1. 构造函数
2. new Object()
3. 字面量

但实质上都是都过构造函数构建的对象，new Object()中 Object 是一个内置的构造函数，而字面量构建则是一个语法糖。

## page 26

对象是属性的集合。函数是对象，所以函数上会包含各种属性。
每个函数 function 都会包含一个类型为 object 的属性 prototype（原型），而 prototype 有一个 constructor 属性指向其对应的函数。

## page 27

构造函数创造的实例上都有一个**proto**属性（隐式原型），指向创造该对象的函数的 prototype。

## page 28

Person.prototype 也是一个对象，所以也有一个**proto**，指向创造这个对象的函数的 prototype，既 Object.prototype。

而 Object.prototype 的**proto**的指向为 null。

函数也是一种对象，所以函数也有**proto**，函数的创建函数为构造函数 Function，所以构造函数 Object 的**proto**和 Person 的**proto**都指向 Function.prototype。Function.prototype 的**proto**则指向 Object.prototype。

最后构造函数 Function 也是一个函数，那么一定是被 Function 创建，故 Function 的**proto**指向为自身的 prototype（Function.prototype）。

## page 29

typeof 无法正确判断引用类型，所以需要用 instanceof。

Instanceof 运算符的第一个变量是一个对象，暂时称为 A；第二个变量一般是一个函数，暂时称为 B。

Instanceof 的判断规则是：沿着 A 的**proto**这条链路来找，如果在链路中找到 B.prototype，那么就返回 true。如果找到终点还未找到，则返回 false。

## page 30

## page 31

## page 32

## page 33

图中由**proto**所形成的链路就是原型链。

## page 34

javascript 中的继承是通过原型链来体现的。

访问一个对象的属性时，先在自身属性中查找，如果没有，再沿着**proto**这条链向上找，这就是原型链。

如上例，访问 obj.valueof 时，obj 的自身属性中没有 valueof，于是沿着**proto**找到了 Object.prototype.valueof。

## page 35

Object.prototype 上有 hasOwnProperty 可以判断一个属性到底时自身的还是从原型链中到的。

obj 上的 hasOwnProperty 是来自原型链上 Object.prototype.hasOwnProperty

## page 36

最后是团队协作方面。

## page 37

## page 38

接下来汇报的是未来的工作规划，我将从工作展望和学习规划两个方面展开。

## page 39

对于工作规划
第一个阶段是、IOT 规则引擎项目跟进和代码的优化。分析现有业务流程和系统，思考提升用户体验的可能改进。
第二阶段则要 1、关注低代码开发领域的最新技术和趋势。
2、快速熟悉低代码平台的业务。
3、积极参与低代码平台建设，提升团队价值。

最后持续支撑公司的需求和业务发展，提升项目的业务价值和技术质量。

## page 40

对于学习规划，
我将从 VUE 源码、前端核心基础、设计思想、代码质量、性能优化等方面展开深入的学习

## page 41

最后是我在试用期期间对前端岗位的一些思考

## page 42

前端不仅是页面的展示，更重要的是关注与用户的交互和体验；
有效的团队协作，促进信息共享和沟通，确保项目的顺利进行。
善于思考，寻求业务的中的可能性。
关注前端领域的最新技术和趋势，参与技术社区的讨论和分享，持续学习和积累经验，提高自己的专业水平。

## page 43

谢谢各位，我的汇报完毕！！

## page 44

江苏金恒信息科技股份有限公司（南京）2023 年 7 月-至今
IOT 规则引擎（2023 年 7 月-2023 年 10 月）
项目描述：IoT 规则引擎是一个 PaaS 层的制造业设备监测和分析服务，该系统能够自动进行数据预警，并基于业务规则生成数据预警资产库，用可视化的配置方式，高度抽象公共规则，实现规则配置化，降低各领域的开发难度和代码冗余。
设计技术：Vue3，TypeScript，Pinia， Element Plus，antv X6 等
主要工作：
使用 Vue.Draggable.next 实现树形表格行间拖动，并实现表格单元格的动态校验
基于 vue-cron 封装 CRON 表达式生成组件
根据业务需求选用 Antv X6 图编辑引擎实现规则配置的可视化，并封装 X6 工具类支持项目的功能需求。通过算子注册和规则设计实现规则可视化拖动配置。
责任描述
负责算子注册模块的需求开发
负责规则设计模块的需求开发
负责后续前端维护
JH4J-CODE（2023 年 10 月-2024 年 2 月）
项目描述：JH4J-CODE 是一款高效开发、灵活扩展、安全性高的企业级低代码开发平台， 旨在通过简化开发流程和减少编码工作量，快速创建和部署应用程序，为公司 B/S 架构产品研发和项目实施提供平台支撑。与传统的软件开发方式相比， JH4J-CODE 平台可以大大减少编码的工作量，并提供 了可视化的界面和预先构建的组件，使非专业开发人员通过拖放和配置来创建应用程序就能够轻松创建和定制应用程序。
设计技术：Vue3，TypeScript, Vue-Router，Pinia， Element Plus，wujie, lerna 等
主要工作：
封装、修改低代码组件。1、表格。添加 toolbar 实现表格字段的显示隐藏和排序。2、部门挑选框。采用树形结构进行部门挑选，支持数据结构配置和单、多选切换。3、横向柱状图。对 echarts 进行二次封装，并改造数据项配置，通过拖拽实现模型的数据组合，快速构建数据模型。
修改、添加低代码组件属性配置器。1、图标、图片选择。添加图标和图片选择，并支持快捷上传，对 svg 和图片进行预览，针对高亮度 svg 添加透明背景。2、JSON、Code 配置器。右侧属性面板添加一个预览的代码编辑器，通过 resize 样式和 resizeObserve 实现预览代码编辑器的高度拖动。等
参与平台优化。1、添加平铺的菜单布局，并支持用户通过系统字典配置菜单布局为树形/平铺。2、用户授权功能优化，当菜单权限较多时，树形选择用户使用体验感差，且页面加载缓慢。对树形菜单中间层级进行合并，采用平铺的方式展示菜单权限，并使用**虚拟滚动**提升页面性能。3、系统样式优化。
责任描述
参与 JH4J-CODE 1.4.0 版本迭代
参与用户体验优化（JH4J-CODE 2.0 版本）
