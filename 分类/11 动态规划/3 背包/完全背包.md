### 完全背包

有 n 种物品，第 i 种物品的重量为 w[i]，价值为 v[i]，每种物品可以选择无限次。求在总重量不超过 W 的情况下，总价值最大为多少？

#### 状态定义：

- `dp[i][j]` 表示前 i 种物品，总重量不超过 j 时的最大总价值。
- 转移方程：
  ```js
  dp[i][j] = Math.max(
    dp[i - 1][j], // 不选当前物品
    dp[i][j - w] + v // 选当前物品（需满足 j >= w）， 注意这里是dp[i][j - w]而不是dp[i - 1][j - w]，因为物品可以重复选择。
  );
  ```

#### 322. 零钱兑换

给你一个整数数组 coins ，表示不同面额的硬币；以及一个整数 amount ，表示总金额。

计算并返回可以凑成总金额所需的 最少的硬币个数 。如果没有任何一种硬币组合能组成总金额，返回 -1 。

你可以认为每种硬币的数量是无限的。

```js
/**
 * 动态规划解法（空间压缩优化）
 * @param {number[]} coins
 * @param {number} amount
 * @return {number}
 */
var coinChange = function (coins, amount) {
    // 初始化：处理第一个硬币的情况（空间压缩后的一维数组）
    const dp = Array.from({ length: amount + 1 }, (_, r) => 
        r % coins[0] === 0 ? r / coins[0] : Infinity); // 初始状态：只能用 coins[0] 组合的情况
    
    for (let i = 1; i < coins.length; i++) {
        // 从 coins[i] 开始遍历：金额小于硬币值时无需处理
        for (let r = coins[i]; r <= amount; r++) { 
            // 状态转移方程：min(不用当前硬币, 用当前硬币)
            dp[r] = Math.min(dp[r], 1 + dp[r - coins[i]]); 
        }
    }

    return dp[amount] < Infinity ? dp[amount] : -1;
};
```